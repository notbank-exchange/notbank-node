var NotbankSdk=(()=>{var Xi=Object.create;var Qe=Object.defineProperty,en=Object.defineProperties,tn=Object.getOwnPropertyDescriptor,rn=Object.getOwnPropertyDescriptors,on=Object.getOwnPropertyNames,lt=Object.getOwnPropertySymbols,nn=Object.getPrototypeOf,rr=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable;var fe=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),or=r=>{throw TypeError(r)};var Yr=(r,e,t)=>e in r?Qe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,v=(r,e)=>{for(var t in e||(e={}))rr.call(e,t)&&Yr(r,t,e[t]);if(lt)for(var t of lt(e))Jr.call(e,t)&&Yr(r,t,e[t]);return r},Re=(r,e)=>en(r,rn(e));var sn=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var Ee=(r,e)=>{var t={};for(var o in r)rr.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&lt)for(var o of lt(r))e.indexOf(o)<0&&Jr.call(r,o)&&(t[o]=r[o]);return t};var an=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ir=(r,e)=>{for(var t in e)Qe(r,t,{get:e[t],enumerable:!0})},jr=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of on(e))!rr.call(r,i)&&i!==t&&Qe(r,i,{get:()=>e[i],enumerable:!(o=tn(e,i))||o.enumerable});return r};var Kr=(r,e,t)=>(t=r!=null?Xi(nn(r)):{},jr(e||!r||!r.__esModule?Qe(t,"default",{value:r,enumerable:!0}):t,r)),cn=r=>jr(Qe({},"__esModule",{value:!0}),r);var nr=(r,e,t)=>e.has(r)||or("Cannot "+t);var g=(r,e,t)=>(nr(r,e,"read from private field"),t?t.call(r):e.get(r)),w=(r,e,t)=>e.has(r)?or("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Y=(r,e,t,o)=>(nr(r,e,"write to private field"),o?o.call(r,t):e.set(r,t),t),_=(r,e,t)=>(nr(r,e,"access private method"),t);var E=(r,e,t)=>new Promise((o,i)=>{var s=l=>{try{c(t.next(l))}catch(p){i(p)}},a=l=>{try{c(t.throw(l))}catch(p){i(p)}},c=l=>l.done?o(l.value):Promise.resolve(l.value).then(s,a);c((t=t.apply(r,e)).next())}),ce=function(r,e){this[0]=r,this[1]=e},sr=(r,e,t)=>{var o=(a,c,l,p)=>{try{var m=t[a](c),R=(c=m.value)instanceof ce,U=m.done;Promise.resolve(R?c[0]:c).then(D=>R?o(a==="return"?a:"next",c[1]?{done:D.done,value:D.value}:D,l,p):l({value:D,done:U})).catch(D=>o("throw",D,l,p))}catch(D){p(D)}},i=a=>s[a]=c=>new Promise((l,p)=>o(a,c,l,p)),s={};return t=t.apply(r,e),s[fe("asyncIterator")]=()=>s,i("next"),i("throw"),i("return"),s},ar=r=>{var e=r[fe("asyncIterator")],t=!1,o,i={};return e==null?(e=r[fe("iterator")](),o=s=>i[s]=a=>e[s](a)):(e=e.call(r),o=s=>i[s]=a=>{if(t){if(t=!1,s==="throw")throw a;return a}return t=!0,{done:!1,value:new ce(new Promise(c=>{var l=e[s](a);l instanceof Object||or("Object expected"),c(l)}),1)}}),i[fe("iterator")]=()=>i,o("next"),"throw"in e?o("throw"):i.throw=s=>{throw s},"return"in e&&o("return"),i},zr=(r,e,t)=>(e=r[fe("asyncIterator")])?e.call(r):(r=r[fe("iterator")](),e={},t=(o,i)=>(i=r[o])&&(e[o]=s=>new Promise((a,c,l)=>(s=i.call(r,s),l=s.done,Promise.resolve(s.value).then(p=>a({value:p,done:l}),c)))),t("next"),t("return"),e);var Wi=an((cT,Vi)=>{"use strict";Vi.exports=WebSocket});var Ms={};ir(Ms,{NotbankClient:()=>er,models:()=>pr});var pr={};ir(pr,{ARProvince:()=>Vo,AccountType:()=>$r,ActionType:()=>Zr,ArgentinaBankAccountKind:()=>Xr,BRState:()=>Qo,BrazilBankAccountKind:()=>eo,CLComune:()=>Wo,ChangeReason:()=>io,ChileBankAccountKind:()=>to,ColombiaBankAccountKind:()=>oo,DepositFeeMessages:()=>so,DepositStatus:()=>ao,Direction:()=>co,DocumentAdressType:()=>uo,FeeCalcType:()=>Jo,FeeProductType:()=>lo,FeeType:()=>jo,Gender:()=>mo,InstitutionalMember:()=>ur,InstrumentStateArgument:()=>po,InstrumentType:()=>So,MakerTaker:()=>fo,NotbankError:()=>M,OrderFlag:()=>Ro,OrderSide:()=>Eo,OrderState:()=>To,OrderTypeInt:()=>Ao,OrderTypeStr:()=>Oo,PegPriceType:()=>ho,PeruBankAccountKind:()=>ro,PixType:()=>Io,ProductType:()=>_o,Profession:()=>Yo,ReferenceType:()=>No,ReportFlavor:()=>go,ReportFrequency:()=>vo,ReportRequestStatus:()=>bo,ReportWriterResultStatus:()=>Uo,RiskType:()=>Po,SessionStatus:()=>Do,SideType:()=>wo,SubscriptionResponse:()=>mr,SupportedCountry:()=>no,TimeInForce:()=>xo,TradeDirection:()=>Mo,TradeSide:()=>yo,TransactionReferenceTypes:()=>qo,TransactionTypes:()=>Co,UnsubscribeLevel2ErrorCode:()=>Fo,UnsubscribeTradesError:()=>Lo,UnsubscriptionResponse:()=>lr,WithdrawErrorCode:()=>Go,WithdrawFeeMessages:()=>ko,WithdrawTemplateType:()=>Ho,YieldProduct:()=>Bo,orderbookFromRaw:()=>cr});var $r=(t=>(t.ASSET="Asset",t.LIABILITY="Liability",t))($r||{});var Zr=(o=>(o[o.NEW=0]="NEW",o[o.UPDATE=1]="UPDATE",o[o.DELETION=2]="DELETION",o))(Zr||{});var Xr=(c=>(c.CORRIENTE="corriente",c.VISTA="vista",c.AHORRO="ahorro",c.ELECTRONIC_CHECKBOOK="electronic_checkbook",c.AR_CBU="ar_cbu",c.AR_CVU="ar_cvu",c.AR_ALIAS="ar_alias",c))(Xr||{}),eo=(c=>(c.BR_CORRIENTE_FISICA="br_corriente_fisica",c.BR_SIMPLE_FISICA="br_simple_fisica",c.BR_CORRIENTE_JURIDICA="br_corriente_juridica",c.BR_POUPANCA_FISICA="br_poupanca_fisica",c.BR_POUPANCA_JURIDICA="br_poupanca_juridica",c.BR_CAIXA_FACIL="br_caixa_facil",c.BR_PIX="br_pix",c))(eo||{}),to=(i=>(i.CORRIENTE="corriente",i.VISTA="vista",i.AHORRO="ahorro",i.ELECTRONIC_CHECKBOOK="electronic_checkbook",i))(to||{}),ro=(t=>(t.CORRIENTE="corriente",t.AHORRO="ahorro",t))(ro||{}),oo=(t=>(t.CORRIENTE="corriente",t.AHORRO="ahorro",t))(oo||{});var io=(R=>(R.UNKNOWN="Unknown",R.NEWINPUTACCEPTED="NewInputAccepted",R.NEWINPUTREJECTED="NewInputRejected",R.OTHERREJECTED="OtherRejected",R.EXPIRED="Expired",R.TRADE="Trade",R.SYSTEMCANCELED_NOMOREDMARKET="SystemCanceled_NoMoreMarket",R.SYSTEMCANCELED_BELOWMINIMUM="SystemCanceled_BelowMinimum",R.SYSTEMCANCELED_PRICECOLLAR="SystemCanceled_PriceCollar",R.SYSTEMCANCELED_MARGINFAILED="SystemCanceled_MarginFailed",R.USERMODIFIED="UserModified",R))(io||{});var no=(s=>(s.AR="AR",s.BR="BR",s.CL="CL",s.PE="PE",s.CO="CO",s))(no||{});var so=(o=>(o.Success="Fee calculated successfully",o.InvalidRequest="Invalid Request",o.AccountOrProductNotFound="Account or Product not found",o))(so||{});var ao=(i=>(i.New="New",i.Pending="Pending",i.FullyProcessed="FullyProcessed",i.Error="Error",i))(ao||{});var co=(o=>(o[o.NoChange=0]="NoChange",o[o.Uptick=1]="Uptick",o[o.DownTick=2]="DownTick",o))(co||{});var uo=(m=>(m[m.SERVICE=3]="SERVICE",m[m.PROOF_ADDRESS=30]="PROOF_ADDRESS",m[m.CREDIT_CARD_BILL=35]="CREDIT_CARD_BILL",m[m.SALARY_STATEMENTS=36]="SALARY_STATEMENTS",m[m.NEIGHBOURS_CERTIFICATE=37]="NEIGHBOURS_CERTIFICATE",m[m.NOTARY_ADDRESS_CERTIFICATE=38]="NOTARY_ADDRESS_CERTIFICATE",m[m.PRODUCT_BILL_WITH_PAYMENT_CERTIFICATE=39]="PRODUCT_BILL_WITH_PAYMENT_CERTIFICATE",m[m.SERVICE_WITH_BIRTH=41]="SERVICE_WITH_BIRTH",m[m.SERVICE_WITH_MARRIAGE=40]="SERVICE_WITH_MARRIAGE",m[m.DRIVER_LICENSE_WITH_ADDRESS=42]="DRIVER_LICENSE_WITH_ADDRESS",m))(uo||{});var lo=(t=>(t.BASE_PRODUCT="BaseProduct",t.SINGLE_PRODUCT="SingleProduct",t))(lo||{});var mo=(t=>(t[t.WOMAN=0]="WOMAN",t[t.MAN=1]="MAN",t))(mo||{});var po=(t=>(t.BOTH="BOTH",t.INACTIVE="INACTIVE",t))(po||{});var So=(t=>(t.UNKNOWN="Unknown",t.STANDARD="Standard",t))(So||{});var fo=(o=>(o[o.Unknown=0]="Unknown",o[o.Maker=1]="Maker",o[o.Taker=2]="Taker",o))(fo||{});var Ro=(a=>(a.NoAccountRiskCheck="NoAccountRiskCheck",a.AddedToBook="AddedToBook",a.RemovedFromBook="RemovedFromBook",a.PostOnly="PostOnly",a.Liquidation="Liquidation",a.ReverseMarginPosition="ReverseMarginPosition",a))(Ro||{});var Eo=(t=>(t[t.Buy=0]="Buy",t[t.Sell=1]="Sell",t))(Eo||{});var To=(a=>(a.Unknown="Unknown",a.Working="Working",a.Rejected="Rejected",a.Canceled="Canceled",a.Expired="Expired",a.FullyExecuted="Fully Executed",a))(To||{});var Ao=(l=>(l[l.Unknown=0]="Unknown",l[l.Market=1]="Market",l[l.Limit=2]="Limit",l[l.StopMarket=3]="StopMarket",l[l.StopLimit=4]="StopLimit",l[l.TrailingStopMarket=5]="TrailingStopMarket",l[l.TrailingStopLimit=6]="TrailingStopLimit",l[l.BlockTrade=7]="BlockTrade",l))(Ao||{}),Oo=(l=>(l.Unknown="Unknown",l.Market="Market",l.Limit="Limit",l.StopMarket="StopMarket",l.StopLimit="StopLimit",l.TrailingStopMarket="TrailingStopMarket",l.TrailingStopLimit="TrailingStopLimit",l.BlockTrade="BlockTrade",l))(Oo||{});var ho=(i=>(i[i.Last=1]="Last",i[i.Bid=2]="Bid",i[i.Ask=3]="Ask",i[i.Midpoint=4]="Midpoint",i))(ho||{});var Io=(s=>(s.CPF="CPF",s.CNPJ="CNPJ",s.EMAIL="Email",s.PHONE="Phone",s.OTRO="Otro",s))(Io||{});var _o=(i=>(i.UNKNOWN="Unknown",i.NATIONAL_CURRENCY="NationalCurrency",i.CRYPTO_CURRENCY="CryptoCurrency",i.CONTRACT="Contract",i))(_o||{});var No=(e=>(e.Withdraw="Withdraw",e))(No||{});var go=(a=>(a.TradeActivity="TradeActivity",a.TransactionActivity="TransactionActivity",a.ProductDelta="ProductDelta",a.ProfitAndLoss="ProfitAndLoss",a.Transaction="Transaction",a.Treasury="Treasury",a))(go||{});var vo=(a=>(a.OnDemand="OnDemand",a.Hourly="Hourly",a.Daily="Daily",a.Weekly="Weekly",a.Monthly="Monthly",a.Annually="Annually",a))(vo||{});var bo=(R=>(R.Submitted="Submitted",R.Validating="Validating",R.Scheduled="Scheduled",R.InProgress="InProgress",R.Completed="Completed",R.Aborting="Aborting",R.Aborted="Aborted",R.UserCancelled="UserCancelled",R.SysRetired="SysRetired",R.Pending="Pending",R.UserCancelPending="UserCancelPending",R))(bo||{});var Uo=(s=>(s.NotStarted="NotStarted",s.NotComplete="NotComplete",s.ErrorComplete="ErrorComplete",s.SuccessComplete="SuccessComplete",s.Cancelled="Cancelled",s))(Uo||{});var Po=(s=>(s.UNKNOWN="Unknown",s.NORMAL="Normal",s.NO_RISK_CHECK="NoRiskCheck",s.NO_TRADING="NoTrading",s.CREDIT="Credit",s))(Po||{});var Do=(a=>(a.UNKNOWN="Unknown",a.RUNNING="Running",a.PAUSED="Paused",a.STOPPED="Stopped",a.STARTING="Starting",a.RUNNING_POST_ONLY="RunningPostOnly",a))(Do||{});var wo=(t=>(t.BUY="Buy",t.SELL="Sell",t))(wo||{});var xo=(c=>(c[c.Unknown=0]="Unknown",c[c.GTC=1]="GTC",c[c.OPG=2]="OPG",c[c.IOC=3]="IOC",c[c.FOK=4]="FOK",c[c.GTX=5]="GTX",c[c.GTD=6]="GTD",c))(xo||{});var Mo=(o=>(o[o.NoChange=0]="NoChange",o[o.Uptick=1]="Uptick",o[o.DownTick=2]="DownTick",o))(Mo||{});var yo=(i=>(i[i.Buy=0]="Buy",i[i.Sell=1]="Sell",i[i.Short=2]="Short",i[i.Unknown=3]="Unknown",i))(yo||{});var qo=(A=>(A.Trade="Trade",A.Deposit="Deposit",A.Withdraw="Withdraw",A.Transfer="Transfer",A.OrderHold="OrderHold",A.WithdrawHold="WithdrawHold",A.DepositHold="DepositHold",A.MarginHold="MarginHold",A.ManualHold="ManualHold",A.ManualEntry="ManualEntry",A.MarginAcquisition="MarginAcquisition",A.MarginRelinquish="MarginRelinquish",A.MarginInterestNetting="MarginInterestNetting",A.MarginOperatorTransferToMarginAccount="MarginOperatorTransferToMarginAccount",A.MarginOperatorTransferToAssetAccount="MarginOperatorTransferToAssetAccount",A.MarginUserTransfer="MarginUserTransfer",A.MarginPositionReverseTrade="MarginPositionReverseTrade",A.AffiliateRebate="AffiliateRebate",A.DistributionEntry="DistributionEntry",A.TransferHold="TransferHold",A.AirDrop="AirDrop",A))(qo||{});var Co=(A=>(A.Fee="Fee",A.Trade="Trade",A.Other="Other",A.Reverse="Reverse",A.Hold="Hold",A.Rebate="Rebate",A.MarginAcquisition="MarginAcquisition",A.MarginRelinquishByTrade="MarginRelinquishByTrade",A.MarginInterestTransfer="MarginInterestTransfer",A.MarginOperatorTransferToMarginAccount="MarginOperatorTransferToMarginAccount",A.MarginOperatorTransferToAssetAccount="MarginOperatorTransferToAssetAccount",A.MarginUserTransfer="MarginUserTransfer",A.MarginRelinquishByTransfer="MarginRelinquishByTransfer",A.MarginRelinquishByReverseTrade="MarginRelinquishByReverseTrade",A.Distribution="Distribution",A.Payment="Payment",A.OperatorLend="OperatorLend",A.OperatorReceived="OperatorReceived",A.Rebalance="Rebalance",A.Commission="Commission",A.AirDrop="AirDrop",A))(Co||{});var Fo=(a=>(a[a.SUCCESS=0]="SUCCESS",a[a.NOT_AUTHORIZED=20]="NOT_AUTHORIZED",a[a.INVALID_REQUEST=100]="INVALID_REQUEST",a[a.OPERATION_FAILED=101]="OPERATION_FAILED",a[a.SERVER_ERROR=102]="SERVER_ERROR",a[a.RESOURCE_NOT_FOUND=104]="RESOURCE_NOT_FOUND",a))(Fo||{});var Lo=(s=>(s[s.NotAuthorized=20]="NotAuthorized",s[s.InvalidRequest=100]="InvalidRequest",s[s.OperationFailed=101]="OperationFailed",s[s.ServerError=102]="ServerError",s[s.ResourceNotFound=104]="ResourceNotFound",s))(Lo||{});var Go=(a=>(a[a.NoError=0]="NoError",a[a.NotAuthorized=20]="NotAuthorized",a[a.InvalidRequest=100]="InvalidRequest",a[a.OperationFailed=101]="OperationFailed",a[a.ServerError=102]="ServerError",a[a.ResourceNotFound=104]="ResourceNotFound",a))(Go||{});var ko=(o=>(o.Success="Fee calculated successfully",o.InvalidRequest="Invalid Request",o.AccountOrProductNotFound="Account or Product not found",o))(ko||{});var Ho=(o=>(o.ToExternalBitcoinAddress="ToExternalBitcoinAddress",o.ToInternalAccount="ToInternalAccount",o.ToBankAccount="ToBankAccount",o))(Ho||{});var Bo=(t=>(t[t.STABLE=0]="STABLE",t[t.VARIABLE=1]="VARIABLE",t))(Bo||{});var Vo=(O=>(O[O.BUENOS_AIRES=1]="BUENOS_AIRES",O[O.CATAMARCA=10]="CATAMARCA",O[O.CHACO=14]="CHACO",O[O.CHUBUT=20]="CHUBUT",O[O.CIUDAD_AUTONOMA_DE_BUENOS_AIRES=43]="CIUDAD_AUTONOMA_DE_BUENOS_AIRES",O[O.CORDOBA=3]="CORDOBA",O[O.CORRIENTES=15]="CORRIENTES",O[O.ENTRE_RIOS=5]="ENTRE_RIOS",O[O.FORMOSA=13]="FORMOSA",O[O.JUJUY=11]="JUJUY",O[O.LA_PAMPA=18]="LA_PAMPA",O[O.LA_RIOJA=9]="LA_RIOJA",O[O.MENDOZA=4]="MENDOZA",O[O.MISIONES=16]="MISIONES",O[O.NEUQUEN=19]="NEUQUEN",O[O.RIO_NEGRO=21]="RIO_NEGRO",O[O.SALTA=12]="SALTA",O[O.SAN_JUAN=7]="SAN_JUAN",O[O.SAN_LUIS=8]="SAN_LUIS",O[O.SANTA_CRUZ=22]="SANTA_CRUZ",O[O.SANTA_FE=2]="SANTA_FE",O[O.SANTIAGO_DEL_ESTERO=6]="SANTIAGO_DEL_ESTERO",O[O.TIERRA_DEL_FUEGO_Y_ANTARTIDA_E_ISLAS_DEL_ATLANTICO_SUR=23]="TIERRA_DEL_FUEGO_Y_ANTARTIDA_E_ISLAS_DEL_ATLANTICO_SUR",O[O.TUCUMAN=17]="TUCUMAN",O))(Vo||{});var Wo=(n=>(n.ARICA="Arica",n.CAMARONES="Camarones",n.GENERAL_LAGOS="General Lagos",n.PUTRE="Putre",n.ALTO_HOSPICIO="Alto Hospicio",n.CAMI\u00D1A="Cami\xF1a",n.COLCHANE="Colchane",n.HUARA="Huara",n.IQUIQUE="Iquique",n.PICA="Pica",n.POZOALMONTE="Pozo Almonte",n.ANTOFAGASTA="Antofagasta",n.CALAMA="Calama",n.MARIA_ELENA="Mar\xEDa Elena",n.MEJILLONES="Mejillones",n.OLLAG\u00DCE="Ollag\xFCe",n.SAN_PEDRO_DE_ATACAMA="San Pedro de Atacama",n.SIERRA_GORDA="Sierra Gorda",n.TALTAL="Taltal",n.TOCOPILLA="Tocopilla",n.ALTO_DEL_CARMEN="Alto del Carmen",n.CALDERA="Caldera",n.CHA\u00D1ARAL="Cha\xF1aral",n.COPIAPO="Copiap\xF3",n.DIEGO_DE_ALMAGRO="Diego de Almagro",n.FREIRINA="Freirina",n.HUASCO="Huasco",n.TIERRA_AMARILLA="Tierra Amarilla",n.VALLENAR="Vallenar",n.ANDACOLLO="Andacollo",n.CANELA="Canela",n.COMBARBALA="Combarbal\xE1",n.COQUIMBO="Coquimbo",n.ILLAPEL="Illapel",n.LA_HIGUERA="La Higuera",n.LA_SERENA="La Serena",n.LOS_VILOS="Los Vilos",n.MONTE_PATRIA="Monte Patria",n.OVALLE="Ovalle",n.PAIGUANO="Paiguano",n.PUNITAQUI="Punitaqui",n.RIO_HURTADO="R\xEDo Hurtado",n.SALAMANCA="Salamanca",n.VICU\u00D1A="Vicu\xF1a",n.ALGARROBO="Algarrobo",n.CABILDO="Cabildo",n.CALERA="Calera",n.CALLE_LARGA="Calle Larga",n.CARTAGENA="Cartagena",n.CASABLANCA="Casablanca",n.CATEMU="Catemu",n.CONCON="Conc\xF3n",n.EL_QUISCO="El Quisco",n.EL_TABO="El Tabo",n.HIJUELAS="Hijuelas",n.ISLA_DE_PASCUA="Isla de Pascua",n.JUAN_FERNANDEZ="Juan Fern\xE1ndez",n.LA_CRUZ="La Cruz",n.LA_LIGUA="La Ligua",n.LIMACHE="Limache",n.LLAILLAY="Llaillay",n.LOS_ANDES="Los Andes",n.NOGALES="Nogales",n.OLMUE="Olmu\xE9",n.PANQUEHUE="Panquehue",n.PAPUDO="Papudo",n.PETORCA="Petorca",n.PUCHUNCAVI="Puchuncav\xED",n.PUTAENDO="Putaendo",n.QUILLOTA="Quillota",n.QUILPUE="Quilpu\xE9",n.QUINTERO="Quintero",n.RINCONADA="Rinconada",n.SAN_ANTONIO="San Antonio",n.SAN_ESTEBAN="San Esteban",n.SAN_FELIPE="San Felipe",n.SANTA_MARIA="Santa Mar\xEDa",n.SANTO_DOMINGO="Santo Domingo",n.VALPARAISO="Valpara\xEDso",n.VILLA_ALEMANA="Villa Alemana",n.VI\u00D1A_DEL_MAR="Vi\xF1a del Mar",n.ZAPALLAR="Zapallar",n.ALHUE="Alhu\xE9",n.BUIN="Buin",n.CALERA_DE_TANGO="Calera de Tango",n.CERRILLOS="Cerrillos",n.CERRO_NAVIA="Cerro Navia",n.COLINA="Colina",n.CONCHALI="Conchal\xED",n.CURACAVI="Curacav\xED",n.EL_BOSQUE="El Bosque",n.EL_MONTE="El Monte",n.ESTACION_CENTRAL="Estaci\xF3n Central",n.HUECHURABA="Huechuraba",n.INDEPENDENCIA="Independencia",n.ISLA_DE_MAIPO="Isla de Maipo",n.LA_CISTERNA="La Cisterna",n.LA_FLORIDA="La Florida",n.LA_GRANJA="La Granja",n.LA_PINTANA="La Pintana",n.LA_REINA="La Reina",n.LAMPA="Lampa",n.LAS_CONDES="Las Condes",n.LO_BARNECHEA="Lo Barnechea",n.LO_ESPEJO="Lo Espejo",n.LO_PRADO="Lo Prado",n.MACUL="Macul",n.MAIPU="Maip\xFA",n.MARIA_PINTO="Mar\xEDa Pinto",n.MELIPILLA="Melipilla",n.\u00D1U\u00D1OA="\xD1u\xF1oa",n.PADRE_HURTADO="Padre Hurtado",n.PAINE="Paine",n.PEDRO_AGUIRRE_CERDA="Pedro Aguirre Cerda",n.PE\u00D1AFLOR="Pe\xF1aflor",n.PE\u00D1ALOLEN="Pe\xF1alol\xE9n",n.PIRQUE="Pirque",n.PROVIDENCIA="Providencia",n.PUDAHUEL="Pudahuel",n.PUENTE_ALTO="Puente Alto",n.QUILICURA="Quilicura",n.QUINTA_NORMAL="Quinta Normal",n.RECOLETA="Recoleta",n.RENCA="Renca",n.SAN_BERNARDO="San Bernardo",n.SAN_JOAQUIN="San Joaqu\xEDn",n.SAN_JOSE_DE_MAIPO="San Jos\xE9 de Maipo",n.SAN_MIGUEL="San Miguel",n.SAN_PEDRO="San Pedro",n.SAN_RAMON="San Ram\xF3n",n.SANTIAGO="Santiago",n.TALAGANTE="Talagante",n.TILTIL="Tiltil",n.VITACURA="Vitacura",n.CHIMBARONGO="Chimbarongo",n.CH\u00C9PICA="Ch\xE9pica",n.CODEGUA="Codegua",n.COINCO="Coinco",n.COLTAUCO="Coltauco",n.DO\u00D1IHUE="Do\xF1ihue",n.GRANEROS="Graneros",n.LA_ESTRELLA="La Estrella",n.LAS_CABRAS="Las Cabras",n.LITUECHE="Litueche",n.LOLOL="Lolol",n.MACHALI="Machal\xED",n.MALLOA="Malloa",n.MARCHIHUE="Marchihue",n.NANCAGUA="Nancagua",n.NAVIDAD="Navidad",n.OLIVAR="Olivar",n.PALMILLA="Palmilla",n.PAREDONES="Paredones",n.PERALILLO="Peralillo",n.PEUMO="Peumo",n.PICHIDEGUA="Pichidegua",n.PICHILEMU="Pichilemu",n.PLACILLA="Placilla",n.PUMANQUE="Pumanque",n.QUINTA_DE_TILCOCO="Quinta de Tilcoco",n.RANCAGUA="Rancagua",n.RENGO="Rengo",n.REQUINOA="Requ\xEDnoa",n.SAN_FERNANDO="San Fernando",n.SAN_FRANCISCO_DE_MOSTAZAL="San Francisco de Mostazal",n.SAN_VICENTE_DE_TAGUA_TAGUA="San Vicente de Tagua Tagua",n.SANTA_CRUZ="Santa Cruz",n.CAUQUENES="Cauquenes",n.CHANCO="Chanco",n.COLBUN="Colb\xFAn",n.CONSTITUCION="Constituci\xF3n",n.CUREPTO="Curepto",n.CURICO="Curic\xF3",n.EMPEDRADO="Empedrado",n.HUALA\u00D1E="Huala\xF1\xE9",n.LICANTEN="Licant\xE9n",n.LINARES="Linares",n.LONGAVI="Longav\xED",n.MAULE="Maule",n.MOLINA="Molina",n.PARRAL="Parral",n.PELARCO="Pelarco",n.PELLUHUE="Pelluhue",n.PENCAHUE="Pencahue",n.RAUCO="Rauco",n.RETIRO="Retiro",n.ROMERAL="Romeral",n.RIO_CLARO="R\xEDo Claro",n.SAGRADA_FAMILIA="Sagrada Familia",n.SAN_CLEMENTE="San Clemente",n.SAN_JAVIER_DE_LONCOMILLA="San Javier de Loncomilla",n.SAN_RAFAEL="San Rafael",n.TALCA="Talca",n.TENO="Teno",n.VICHUQUEN="Vichuqu\xE9n",n.VILLA_ALEGRE="Villa Alegre",n.YERBAS_BUENAS="Yerbas Buenas",n.BULNES="Bulnes",n.CHILLAN_VIEJO="Chill\xE1n Viejo",n.CHILLAN="Chill\xE1n",n.COBQUECURA="Cobquecura",n.COELEMU="Coelemu",n.COIHUECO="Coihueco",n.EL_CARMEN="El Carmen",n.NINHUE="Ninhue",n.\u00D1IQUEN="\xD1iqu\xE9n",n.PEMUCO="Pemuco",n.PINTO="Pinto",n.PORTEZUELO="Portezuelo",n.QUILLON="Quill\xF3n",n.QUIRIHUE="Quirihue",n.RANQUIL="R\xE1nquil",n.SAN_CARLOS="San Carlos",n.SAN_FABIAN="San Fabi\xE1n",n.SAN_IGNACIO="San Ignacio",n.SAN_NICOLAS="San Nicol\xE1s",n.TREGUACO="Treguaco",n.YUNGAY="Yungay",n.ALTO_BIOBIO="Alto Biob\xEDo",n.ANTUCO="Antuco",n.ARAUCO="Arauco",n.CABRERO="Cabrero",n.CA\u00D1ETE="Ca\xF1ete",n.CHIGUAYANTE="Chiguayante",n.CONCEPCION="Concepci\xF3n",n.CONTULMO="Contulmo",n.CORONEL="Coronel",n.CURANILAHUE="Curanilahue",n.FLORIDA="Florida",n.HUALPEN="Hualp\xE9n",n.HUALQUI="Hualqui",n.LAJA="Laja",n.LEBU="Lebu",n.LOS_ALAMOS="Los \xC1lamos",n.LOS_ANGELES="Los \xC1ngeles",n.LOTA="Lota",n.MULCHEN="Mulch\xE9n",n.NACIMIENTO="Nacimiento",n.NEGRETE="Negrete",n.PENCO="Penco",n.QUILACO="Quilaco",n.QUILLECO="Quilleco",n.SAN_PEDRO_DE_LA_PAZ="San Pedro de la Paz",n.SAN_ROSENDO="San Rosendo",n.SANTA_BARBARA="Santa B\xE1rbara",n.SANTA_JUANA="Santa Juana",n.TALCAHUANO="Talcahuano",n.TIRUA="Tir\xFAa",n.TOME="Tom\xE9",n.TUCAPEL="Tucapel",n.YUMBEL="Yumbel",n.ANGOL="Angol",n.CARAHUE="Carahue",n.CHOLCHOL="Cholchol",n.COLLIPULLI="Collipulli",n.CUNCO="Cunco",n.CURACAUTIN="Curacaut\xEDn",n.CURARREHUE="Curarrehue",n.ERCILLA="Ercilla",n.FREIRE="Freire",n.GALVARINO="Galvarino",n.GORBEA="Gorbea",n.LAUTARO="Lautaro",n.LONCOCHE="Loncoche",n.LONQUIMAY="Lonquimay",n.LOS_SAUCES="Los Sauces",n.LUMACO="Lumaco",n.MELIPEUCO="Melipeuco",n.NUEVA_IMPERIAL="Nueva Imperial",n.PADRE_LAS_CASAS="Padre las Casas",n.PERQUENCO="Perquenco",n.PITRUFQUEN="Pitrufqu\xE9n",n.PUC\u00D3N="Puc\xF3n",n.PUREN="Pur\xE9n",n.RENAICO="Renaico",n.SAAVEDRA="Saavedra",n.TEMUCO="Temuco",n.TEODORO_SCHMIDT="Teodoro Schmidt",n.TOLTEN="Tolt\xE9n",n.TRAIGUEN="Traigu\xE9n",n.VICTORIA="Victoria",n.VILCUN="Vilc\xFAn",n.VILLARRICA="Villarrica",n.CORRAL="Corral",n.FUTRONO="Futrono",n.LA_UNION="La Uni\xF3n",n.LAGO_RANCO="Lago Ranco",n.LANCO="Lanco",n.LOS_LAGOS="Los Lagos",n.MARIQUINA="Mariquina",n.MAFIL="M\xE1fil",n.PAILLACO="Paillaco",n.PANGUIPULLI="Panguipulli",n.RIO_BUENO="R\xEDo Bueno",n.VALDIVIA="Valdivia",n.ANCUD="Ancud",n.CALBUCO="Calbuco",n.CASTRO="Castro",n.CHAITEN="Chait\xE9n",n.CHONCHI="Chonchi",n.COCHAMO="Cocham\xF3",n.CURACO_DE_VELEZ="Curaco de V\xE9lez",n.DALCAHUE="Dalcahue",n.FRESIA="Fresia",n.FRUTILLAR="Frutillar",n.FUTALEUFU="Futaleuf\xFA",n.HUALAIHUE="Hualaihu\xE9",n.LLANQUIHUE="Llanquihue",n.LOS_MUERMOS="Los Muermos",n.MAULLIN="Maull\xEDn",n.OSORNO="Osorno",n.PALENA="Palena",n.PUERTO_MONTT="Puerto Montt",n.PUERTO_OCTAY="Puerto Octay",n.PUERTO_VARAS="Puerto Varas",n.PUQUELDON="Puqueld\xF3n",n.PURRANQUE="Purranque",n.PUYEHUE="Puyehue",n.QUEILEN="Queil\xE9n",n.QUELLON="Quell\xF3n",n.QUEMCHI="Quemchi",n.QUINCHAO="Quinchao",n.RIO_NEGRO="R\xEDo Negro",n.SAN_JUAN_DE_LA_COSTA="San Juan de la Costa",n.SAN_PABLO="San Pablo",n.AIS\u00C9N="Ais\xE9n",n.CHILE_CHICO="Chile Chico",n.CISNES="Cisnes",n.COCHRANE="Cochrane",n.COIHAIQUE="Coihaique",n.GUAITECAS="Guaitecas",n.LAGO_VERDE="Lago Verde",n.O_HIGGINS="O\u2019Higgins",n.RIO_IBA\u00D1EZ="R\xEDo Ib\xE1\xF1ez",n.TORTEL="Tortel",n.ANTARTICA="Ant\xE1rtica",n.CABO_DE_HORNOS_EX_NAVARINO="Cabo de Hornos (Ex Navarino)",n.LAGUNA_BLANCA="Laguna Blanca",n.NATALES="Natales",n.PORVENIR="Porvenir",n.PRIMAVERA="Primavera",n.PUNTA_ARENAS="Punta Arenas",n.RIO_VERDE="R\xEDo Verde",n.SAN_GREGORIO="San Gregorio",n.TIMAUKEL="Timaukel",n.TORRES_DEL_PAIN="Torres del Paine",n))(Wo||{});var Qo=(b=>(b.RONDONIA="RO",b.ACRE="AC",b.AMAZONAS="AM",b.RORAIMA="RR",b.PARA="PA",b.AMAPA="AP",b.TOCANTINS="TO",b.MARANHAO="MA",b.PIAUI="PI",b.CEARA="CE",b.RIO_GRANDE_DO_NORTE="RN",b.PARAIBA="PB",b.PERNAMBUCO="PE",b.ALAGOAS="AL",b.SERGIPE="SE",b.BAHIA="BA",b.MINAS_GERAIS="MG",b.ESP\u00CDRITO_SANTO="ES",b.RIO_DE_JANEIRO="RJ",b.SAO_PAULO="SP",b.PARANA="PR",b.SANTA_CATARINA="SC",b.RIO_GRANDE_DO_SUL="RS",b.MATO_GROSSO_DO_SUL="MS",b.MATO_GROSSO="MT",b.GOIAS="GO",b.DISTRITO_FEDERAL="DF",b))(Qo||{});var Yo=(S=>(S.TRADER="trader",S.INVESTOR="investor",S.STUDENT="student",S.HOUSEWIFE="housewife",S.ACCOUNTANT="accountant",S.ACTOR_ACTRESS="actor_actress",S.AIR_HOSTESS="air_hostess",S.ARCHAEOLOGIST="archaeologist",S.ARCHITECT="architect",S.ASTRONAUT="astronaut",S.BAKER="baker",S.BIOLOGIST="biologist",S.BRICKLAYER="bricklayer",S.DRIVER="driver",S.BUSINESSMAN="businessman",S.BUTCHER="butcher",S.CARETAKER_JANITOR_PORTER="caretaker_janitor_porter",S.CARPENTER="carpenter",S.CASHIER="cashier",S.CLEANER="cleaner",S.CLOWN="clown",S.COBBLER="cobbler",S.COOK_CHEF="cook_chef",S.CHEMIST="chemist",S.DANCER="dancer",S.DECORATOR="decorator",S.DENTIST="dentist",S.DESIGNER="designer",S.PHYSICIAN="physician",S.DRESSMAKER="dressmaker",S.DUSTMAN="dustman",S.ECONOMIST="economist",S.ELECTRICIAN="electrician",S.ENGINEER="engineer",S.FARMER="farmer",S.FIREMAN="fireman",S.FISHERMAN="fisherman",S.FLORIST="florist",S.FRUITERER="fruiterer",S.GARDENER="gardener",S.GEOLOGIST="geologist",S.HAIRDRESSER="hairdresser",S.JEWELLER="jeweller",S.JOURNALIST="journalist",S.JUDGE="judge",S.LAWYER="lawyer",S.LIBRARIAN="librarian",S.LIFE_GUARD="life_guard",S.MAILMAN_POSTMAN="mailman_postman",S.MECHANIC="mechanic",S.METEOROLOGIST="meteorologist",S.CRYPTOCURRENCY_MINER="cryptocurrency_miner",S.MINERAL_MINER="mineral_miner",S.MODEL="model",S.NANNY_NURSEMAID="nanny_nursemaid",S.NUN="nun",S.NURSE="nurse",S.PAINTER="painter",S.PASTRY_COOK="pastry_cook",S.PHARMACIST="pharmacist",S.PHOTOGRAPHER="photographer",S.PHYSICIST="physicist",S.PLUMBER="plumber",S.POLICEMAN_POLICEWOMAN="policeman_policewoman",S.POLITICIAN="politician",S.PRIEST="priest",S.PROFESSOR_TEACHER="professor_teacher",S.PROGRAMMER="programmer",S.PSYCHIATRIST="psychiatrist",S.PSYCHOLOGIST="psychologist",S.RECEPTIONIST="receptionist",S.RESEARCHER_SCIENTIST="researcher_scientist",S.SAILOR="sailor",S.SALESMAN="salesman",S.SECRETARY="secretary",S.SHOP_ASSISTANT="shop_assistant",S.SINGER="singer",S.SOCIAL_WORKER="social_worker",S.SPORTSMAN="sportsman",S.SURGEON="surgeon",S.TAXI_DRIVER="taxi_driver",S.TELEPHONE_OPERATOR="telephone_operator",S.TRAVEL_AGENT="travel_agent",S.VETERINARIAN="veterinarian",S.WAITER_WAITRESS="waiter_waitress",S.WRITER="writer",S.DELIVERYMAN="deliveryman",S.UBER_DRIVER="uber_driver",S.PILOT="pilot",S.ADMINISTRATIVE="administrative",S.PUBLIC_SERVANT="public_servant",S.OTHER="other",S.CUSTOMER_CARE="customer_care",S.MILITARY="military",S.MANAGER_OFFICIER="manager_officier",S))(Yo||{});var Jo=(t=>(t.Flat="Flat",t.Percentage="Percentage",t))(Jo||{}),jo=(s=>(s.Flat="Flat",s.MakerFee="MakerFee",s.TakerFee="TakerFee",s.PeggedProductFee="PeggedProductFee",s.AffiliateFee="AffiliateFee",s))(jo||{});function cr(r){return{timestamp:r.timestamp,bids:r.bids.map(e=>({quantity:e[0],price:e[1]})),asks:r.asks.map(e=>({quantity:e[0],price:e[1]}))}}var ur=class{};var Ye=class Ye extends Error{constructor(e,t){super("Notbank Error. "+e),this.code=t}};Ye.Factory=class{static createFromApResponse(t){var o="";return t.errorcode&&(o+=`(code=${t.errorcode})`),t.errormsg&&(o+=" "+t.errormsg+"."),t.detail&&(o+=" "+t.detail+"."),new Ye(o,t.errorcode||t.statusCode)}static createFromNbResponse(t,o){var i=`(http status=${o}) `;return t.status&&(i+=`(status=${t.status}) `),t.code&&(i+=`(code=${t.code}) `),t.message&&(i+=t.message,t.message.endsWith(".")||(i+=".")),t.detail&&(i+=" "+t.detail,t.detail.endsWith(".")||(i+=".")),new Ye(i,-1)}};var M=Ye;var lr=class{};var mr=class{};var Ko=Kr(sn("crypto"),1);function un(r){return Math.floor(Math.random()*r)}function mt(){return un(1e6).toString()}function pt(r,e,t,o){var i=o+t+r;let s=Ko.default.createHmac("sha256",e);return s.update(i),s.digest("hex")}var zo=(l=>(l[l.UNDEFINED=-1]="UNDEFINED",l[l.NOT_AN_ERROR=0]="NOT_AN_ERROR",l[l.NOT_AUTHORIZED=20]="NOT_AUTHORIZED",l[l.INVALID_RESPONSE=100]="INVALID_RESPONSE",l[l.OPERATION_FAILED=101]="OPERATION_FAILED",l[l.SERVER_ERROR=102]="SERVER_ERROR",l[l.RESOURCE_NOT_FOUND=104]="RESOURCE_NOT_FOUND",l[l.OPERATION_IN_PROCESS=107]="OPERATION_IN_PROCESS",l))(zo||{}),St=zo;var Rt,$o,Et=class Et{static handle(e){return E(this,null,function*(){var i;if(e.status>=300||e.status<200)throw new Error(`http error (${e.status}) not a successfull response. ${yield e.data}`);var t=_(i=Et,Rt,$o).call(i,e);if(!t)throw new M("http error. (status="+e.status+")",-1);var o=t;if((o==null?void 0:o.result)===!1&&(o==null?void 0:o.errorcode)!=null&&!(o.errorcode==St.OPERATION_IN_PROCESS&&o.errormsg==="Operation In Process"))throw M.Factory.createFromApResponse(o);return t})}};Rt=new WeakSet,$o=function(e){try{return e.data}catch(t){return null}},w(Et,Rt);var ft=Et;var ln=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:window}(),{FormData:Zo,Blob:ep,File:tp}=ln;var dt=class{static build(e){let t=new Zo;return e.fields.map(([o,i])=>{typeof i=="string"?t.append(o,i):t.append(o,JSON.stringify(i))}),e.files.map(([o,i])=>t.append(o,i)),Object.keys(e.message).map(o=>{t.append(o,e.message[o])}),t}};function Je(r,e){return function(){return r.apply(e,arguments)}}var{toString:mn}=Object.prototype,{getPrototypeOf:fr}=Object,{iterator:At,toStringTag:ei}=Symbol,Ot=(r=>e=>{let t=mn.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),J=r=>(r=r.toLowerCase(),e=>Ot(e)===r),ht=r=>e=>typeof e===r,{isArray:Te}=Array,de=ht("undefined");function je(r){return r!==null&&!de(r)&&r.constructor!==null&&!de(r.constructor)&&B(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}var ti=J("ArrayBuffer");function pn(r){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&ti(r.buffer),e}var Sn=ht("string"),B=ht("function"),ri=ht("number"),Ke=r=>r!==null&&typeof r=="object",fn=r=>r===!0||r===!1,Tt=r=>{if(Ot(r)!=="object")return!1;let e=fr(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ei in r)&&!(At in r)},Rn=r=>{if(!Ke(r)||je(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch(e){return!1}},En=J("Date"),dn=J("File"),Tn=J("Blob"),An=J("FileList"),On=r=>Ke(r)&&B(r.pipe),hn=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||B(r.append)&&((e=Ot(r))==="formdata"||e==="object"&&B(r.toString)&&r.toString()==="[object FormData]"))},In=J("URLSearchParams"),[_n,Nn,gn,vn]=["ReadableStream","Request","Response","Headers"].map(J),bn=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ze(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r=="undefined")return;let o,i;if(typeof r!="object"&&(r=[r]),Te(r))for(o=0,i=r.length;o<i;o++)e.call(null,r[o],o,r);else{if(je(r))return;let s=t?Object.getOwnPropertyNames(r):Object.keys(r),a=s.length,c;for(o=0;o<a;o++)c=s[o],e.call(null,r[c],c,r)}}function oi(r,e){if(je(r))return null;e=e.toLowerCase();let t=Object.keys(r),o=t.length,i;for(;o-- >0;)if(i=t[o],e===i.toLowerCase())return i;return null}var ue=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,ii=r=>!de(r)&&r!==ue;function Sr(){let{caseless:r,skipUndefined:e}=ii(this)&&this||{},t={},o=(i,s)=>{let a=r&&oi(t,s)||s;Tt(t[a])&&Tt(i)?t[a]=Sr(t[a],i):Tt(i)?t[a]=Sr({},i):Te(i)?t[a]=i.slice():(!e||!de(i))&&(t[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&ze(arguments[i],o);return t}var Un=(r,e,t,{allOwnKeys:o}={})=>(ze(e,(i,s)=>{t&&B(i)?r[s]=Je(i,t):r[s]=i},{allOwnKeys:o}),r),Pn=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Dn=(r,e,t,o)=>{r.prototype=Object.create(e.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},wn=(r,e,t,o)=>{let i,s,a,c={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),s=i.length;s-- >0;)a=i[s],(!o||o(a,r,e))&&!c[a]&&(e[a]=r[a],c[a]=!0);r=t!==!1&&fr(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},xn=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;let o=r.indexOf(e,t);return o!==-1&&o===t},Mn=r=>{if(!r)return null;if(Te(r))return r;let e=r.length;if(!ri(e))return null;let t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},yn=(r=>e=>r&&e instanceof r)(typeof Uint8Array!="undefined"&&fr(Uint8Array)),qn=(r,e)=>{let o=(r&&r[At]).call(r),i;for(;(i=o.next())&&!i.done;){let s=i.value;e.call(r,s[0],s[1])}},Cn=(r,e)=>{let t,o=[];for(;(t=r.exec(e))!==null;)o.push(t);return o},Fn=J("HTMLFormElement"),Ln=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,i){return o.toUpperCase()+i}),Xo=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),Gn=J("RegExp"),ni=(r,e)=>{let t=Object.getOwnPropertyDescriptors(r),o={};ze(t,(i,s)=>{let a;(a=e(i,s,r))!==!1&&(o[s]=a||i)}),Object.defineProperties(r,o)},kn=r=>{ni(r,(e,t)=>{if(B(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;let o=r[t];if(B(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Hn=(r,e)=>{let t={},o=i=>{i.forEach(s=>{t[s]=!0})};return Te(r)?o(r):o(String(r).split(e)),t},Bn=()=>{},Vn=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function Wn(r){return!!(r&&B(r.append)&&r[ei]==="FormData"&&r[At])}var Qn=r=>{let e=new Array(10),t=(o,i)=>{if(Ke(o)){if(e.indexOf(o)>=0)return;if(je(o))return o;if(!("toJSON"in o)){e[i]=o;let s=Te(o)?[]:{};return ze(o,(a,c)=>{let l=t(a,i+1);!de(l)&&(s[c]=l)}),e[i]=void 0,s}}return o};return t(r,0)},Yn=J("AsyncFunction"),Jn=r=>r&&(Ke(r)||B(r))&&B(r.then)&&B(r.catch),si=((r,e)=>r?setImmediate:e?((t,o)=>(ue.addEventListener("message",({source:i,data:s})=>{i===ue&&s===t&&o.length&&o.shift()()},!1),i=>{o.push(i),ue.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",B(ue.postMessage)),jn=typeof queueMicrotask!="undefined"?queueMicrotask.bind(ue):typeof process!="undefined"&&process.nextTick||si,Kn=r=>r!=null&&B(r[At]),u={isArray:Te,isArrayBuffer:ti,isBuffer:je,isFormData:hn,isArrayBufferView:pn,isString:Sn,isNumber:ri,isBoolean:fn,isObject:Ke,isPlainObject:Tt,isEmptyObject:Rn,isReadableStream:_n,isRequest:Nn,isResponse:gn,isHeaders:vn,isUndefined:de,isDate:En,isFile:dn,isBlob:Tn,isRegExp:Gn,isFunction:B,isStream:On,isURLSearchParams:In,isTypedArray:yn,isFileList:An,forEach:ze,merge:Sr,extend:Un,trim:bn,stripBOM:Pn,inherits:Dn,toFlatObject:wn,kindOf:Ot,kindOfTest:J,endsWith:xn,toArray:Mn,forEachEntry:qn,matchAll:Cn,isHTMLForm:Fn,hasOwnProperty:Xo,hasOwnProp:Xo,reduceDescriptors:ni,freezeMethods:kn,toObjectSet:Hn,toCamelCase:Ln,noop:Bn,toFiniteNumber:Vn,findKey:oi,global:ue,isContextDefined:ii,isSpecCompliantForm:Wn,toJSONObject:Qn,isAsyncFn:Yn,isThenable:Jn,setImmediate:si,asap:jn,isIterable:Kn};function Ae(r,e,t,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}u.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:u.toJSONObject(this.config),code:this.code,status:this.status}}});var ai=Ae.prototype,ci={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{ci[r]={value:r}});Object.defineProperties(Ae,ci);Object.defineProperty(ai,"isAxiosError",{value:!0});Ae.from=(r,e,t,o,i,s)=>{let a=Object.create(ai);u.toFlatObject(r,a,function(m){return m!==Error.prototype},p=>p!=="isAxiosError");let c=r&&r.message?r.message:"Error",l=e==null&&r?r.code:e;return Ae.call(a,c,l,t,o,i),r&&a.cause==null&&Object.defineProperty(a,"cause",{value:r,configurable:!0}),a.name=r&&r.name||"Error",s&&Object.assign(a,s),a};var I=Ae;var It=null;function Rr(r){return u.isPlainObject(r)||u.isArray(r)}function li(r){return u.endsWith(r,"[]")?r.slice(0,-2):r}function ui(r,e,t){return r?r.concat(e).map(function(i,s){return i=li(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function zn(r){return u.isArray(r)&&!r.some(Rr)}var $n=u.toFlatObject(u,{},null,function(e){return/^is[A-Z]/.test(e)});function Zn(r,e,t){if(!u.isObject(r))throw new TypeError("target must be an object");e=e||new(It||FormData),t=u.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,T){return!u.isUndefined(T[h])});let o=t.metaTokens,i=t.visitor||m,s=t.dots,a=t.indexes,l=(t.Blob||typeof Blob!="undefined"&&Blob)&&u.isSpecCompliantForm(e);if(!u.isFunction(i))throw new TypeError("visitor must be a function");function p(f){if(f===null)return"";if(u.isDate(f))return f.toISOString();if(u.isBoolean(f))return f.toString();if(!l&&u.isBlob(f))throw new I("Blob is not supported. Use a Buffer instead.");return u.isArrayBuffer(f)||u.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function m(f,h,T){let C=f;if(f&&!T&&typeof f=="object"){if(u.endsWith(h,"{}"))h=o?h:h.slice(0,-2),f=JSON.stringify(f);else if(u.isArray(f)&&zn(f)||(u.isFileList(f)||u.endsWith(h,"[]"))&&(C=u.toArray(f)))return h=li(h),C.forEach(function(G,H){!(u.isUndefined(G)||G===null)&&e.append(a===!0?ui([h],H,s):a===null?h:h+"[]",p(G))}),!1}return Rr(f)?!0:(e.append(ui(T,h,s),p(f)),!1)}let R=[],U=Object.assign($n,{defaultVisitor:m,convertValue:p,isVisitable:Rr});function D(f,h){if(!u.isUndefined(f)){if(R.indexOf(f)!==-1)throw Error("Circular reference detected in "+h.join("."));R.push(f),u.forEach(f,function(C,W){(!(u.isUndefined(C)||C===null)&&i.call(e,C,u.isString(W)?W.trim():W,h,U))===!0&&D(C,h?h.concat(W):[W])}),R.pop()}}if(!u.isObject(r))throw new TypeError("data must be an object");return D(r),e}var ie=Zn;function mi(r){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function pi(r,e){this._pairs=[],r&&ie(r,this,e)}var Si=pi.prototype;Si.append=function(e,t){this._pairs.push([e,t])};Si.toString=function(e){let t=e?function(o){return e.call(this,o,mi)}:mi;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};var _t=pi;function Xn(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $e(r,e,t){if(!e)return r;let o=t&&t.encode||Xn;u.isFunction(t)&&(t={serialize:t});let i=t&&t.serialize,s;if(i?s=i(e,t):s=u.isURLSearchParams(e)?e.toString():new _t(e,t).toString(o),s){let a=r.indexOf("#");a!==-1&&(r=r.slice(0,a)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}var Er=class{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){u.forEach(this.handlers,function(o){o!==null&&e(o)})}},dr=Er;var Nt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var fi=typeof URLSearchParams!="undefined"?URLSearchParams:_t;var Ri=typeof FormData!="undefined"?FormData:null;var Ei=typeof Blob!="undefined"?Blob:null;var di={isBrowser:!0,classes:{URLSearchParams:fi,FormData:Ri,Blob:Ei},protocols:["http","https","file","blob","url","data"]};var Or={};ir(Or,{hasBrowserEnv:()=>Ar,hasStandardBrowserEnv:()=>es,hasStandardBrowserWebWorkerEnv:()=>ts,navigator:()=>Tr,origin:()=>rs});var Ar=typeof window!="undefined"&&typeof document!="undefined",Tr=typeof navigator=="object"&&navigator||void 0,es=Ar&&(!Tr||["ReactNative","NativeScript","NS"].indexOf(Tr.product)<0),ts=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rs=Ar&&window.location.href||"http://localhost";var x=v(v({},Or),di);function hr(r,e){return ie(r,new x.classes.URLSearchParams,v({visitor:function(t,o,i,s){return x.isNode&&u.isBuffer(t)?(this.append(o,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function os(r){return u.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function is(r){let e={},t=Object.keys(r),o,i=t.length,s;for(o=0;o<i;o++)s=t[o],e[s]=r[s];return e}function ns(r){function e(t,o,i,s){let a=t[s++];if(a==="__proto__")return!0;let c=Number.isFinite(+a),l=s>=t.length;return a=!a&&u.isArray(i)?i.length:a,l?(u.hasOwnProp(i,a)?i[a]=[i[a],o]:i[a]=o,!c):((!i[a]||!u.isObject(i[a]))&&(i[a]=[]),e(t,o,i[a],s)&&u.isArray(i[a])&&(i[a]=is(i[a])),!c)}if(u.isFormData(r)&&u.isFunction(r.entries)){let t={};return u.forEachEntry(r,(o,i)=>{e(os(o),i,t,0)}),t}return null}var gt=ns;function ss(r,e,t){if(u.isString(r))try{return(e||JSON.parse)(r),u.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(r)}var Ir={transitional:Nt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let o=t.getContentType()||"",i=o.indexOf("application/json")>-1,s=u.isObject(e);if(s&&u.isHTMLForm(e)&&(e=new FormData(e)),u.isFormData(e))return i?JSON.stringify(gt(e)):e;if(u.isArrayBuffer(e)||u.isBuffer(e)||u.isStream(e)||u.isFile(e)||u.isBlob(e)||u.isReadableStream(e))return e;if(u.isArrayBufferView(e))return e.buffer;if(u.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(o.indexOf("application/x-www-form-urlencoded")>-1)return hr(e,this.formSerializer).toString();if((c=u.isFileList(e))||o.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return ie(c?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),ss(e)):e}],transformResponse:[function(e){let t=this.transitional||Ir.transitional,o=t&&t.forcedJSONParsing,i=this.responseType==="json";if(u.isResponse(e)||u.isReadableStream(e))return e;if(e&&u.isString(e)&&(o&&!this.responseType||i)){let a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?I.from(c,I.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:x.classes.FormData,Blob:x.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};u.forEach(["delete","get","head","post","put","patch"],r=>{Ir.headers[r]={}});var Oe=Ir;var as=u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ti=r=>{let e={},t,o,i;return r&&r.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),o=a.substring(i+1).trim(),!(!t||e[t]&&as[t])&&(t==="set-cookie"?e[t]?e[t].push(o):e[t]=[o]:e[t]=e[t]?e[t]+", "+o:o)}),e};var Ai=Symbol("internals");function Ze(r){return r&&String(r).trim().toLowerCase()}function vt(r){return r===!1||r==null?r:u.isArray(r)?r.map(vt):String(r)}function cs(r){let e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,o;for(;o=t.exec(r);)e[o[1]]=o[2];return e}var us=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function _r(r,e,t,o,i){if(u.isFunction(o))return o.call(this,e,t);if(i&&(e=t),!!u.isString(e)){if(u.isString(o))return e.indexOf(o)!==-1;if(u.isRegExp(o))return o.test(e)}}function ls(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,o)=>t.toUpperCase()+o)}function ms(r,e){let t=u.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+t,{value:function(i,s,a){return this[o].call(this,e,i,s,a)},configurable:!0})})}var he=class{constructor(e){e&&this.set(e)}set(e,t,o){let i=this;function s(c,l,p){let m=Ze(l);if(!m)throw new Error("header name must be a non-empty string");let R=u.findKey(i,m);(!R||i[R]===void 0||p===!0||p===void 0&&i[R]!==!1)&&(i[R||l]=vt(c))}let a=(c,l)=>u.forEach(c,(p,m)=>s(p,m,l));if(u.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(u.isString(e)&&(e=e.trim())&&!us(e))a(Ti(e),t);else if(u.isObject(e)&&u.isIterable(e)){let c={},l,p;for(let m of e){if(!u.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[p=m[0]]=(l=c[p])?u.isArray(l)?[...l,m[1]]:[l,m[1]]:m[1]}a(c,t)}else e!=null&&s(t,e,o);return this}get(e,t){if(e=Ze(e),e){let o=u.findKey(this,e);if(o){let i=this[o];if(!t)return i;if(t===!0)return cs(i);if(u.isFunction(t))return t.call(this,i,o);if(u.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ze(e),e){let o=u.findKey(this,e);return!!(o&&this[o]!==void 0&&(!t||_r(this,this[o],o,t)))}return!1}delete(e,t){let o=this,i=!1;function s(a){if(a=Ze(a),a){let c=u.findKey(o,a);c&&(!t||_r(o,o[c],c,t))&&(delete o[c],i=!0)}}return u.isArray(e)?e.forEach(s):s(e),i}clear(e){let t=Object.keys(this),o=t.length,i=!1;for(;o--;){let s=t[o];(!e||_r(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){let t=this,o={};return u.forEach(this,(i,s)=>{let a=u.findKey(o,s);if(a){t[a]=vt(i),delete t[s];return}let c=e?ls(s):String(s).trim();c!==s&&delete t[s],t[c]=vt(i),o[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return u.forEach(this,(o,i)=>{o!=null&&o!==!1&&(t[i]=e&&u.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let o=new this(e);return t.forEach(i=>o.set(i)),o}static accessor(e){let o=(this[Ai]=this[Ai]={accessors:{}}).accessors,i=this.prototype;function s(a){let c=Ze(a);o[c]||(ms(i,a),o[c]=!0)}return u.isArray(e)?e.forEach(s):s(e),this}};he.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);u.reduceDescriptors(he.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(o){this[t]=o}}});u.freezeMethods(he);var F=he;function Xe(r,e){let t=this||Oe,o=e||t,i=F.from(o.headers),s=o.data;return u.forEach(r,function(c){s=c.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function et(r){return!!(r&&r.__CANCEL__)}function Oi(r,e,t){I.call(this,r==null?"canceled":r,I.ERR_CANCELED,e,t),this.name="CanceledError"}u.inherits(Oi,I,{__CANCEL__:!0});var z=Oi;function tt(r,e,t){let o=t.config.validateStatus;!t.status||!o||o(t.status)?r(t):e(new I("Request failed with status code "+t.status,[I.ERR_BAD_REQUEST,I.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Nr(r){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function ps(r,e){r=r||10;let t=new Array(r),o=new Array(r),i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){let p=Date.now(),m=o[s];a||(a=p),t[i]=l,o[i]=p;let R=s,U=0;for(;R!==i;)U+=t[R++],R=R%r;if(i=(i+1)%r,i===s&&(s=(s+1)%r),p-a<e)return;let D=m&&p-m;return D?Math.round(U*1e3/D):void 0}}var hi=ps;function Ss(r,e){let t=0,o=1e3/e,i,s,a=(p,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),r(...p)};return[(...p)=>{let m=Date.now(),R=m-t;R>=o?a(p,m):(i=p,s||(s=setTimeout(()=>{s=null,a(i)},o-R)))},()=>i&&a(i)]}var Ii=Ss;var Ie=(r,e,t=3)=>{let o=0,i=hi(50,250);return Ii(s=>{let a=s.loaded,c=s.lengthComputable?s.total:void 0,l=a-o,p=i(l),m=a<=c;o=a;let R={loaded:a,total:c,progress:c?a/c:void 0,bytes:l,rate:p||void 0,estimated:p&&c&&m?(c-a)/p:void 0,event:s,lengthComputable:c!=null,[e?"download":"upload"]:!0};r(R)},t)},gr=(r,e)=>{let t=r!=null;return[o=>e[0]({lengthComputable:t,total:r,loaded:o}),e[1]]},vr=r=>(...e)=>u.asap(()=>r(...e));var _i=x.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,x.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(x.origin),x.navigator&&/(msie|trident)/i.test(x.navigator.userAgent)):()=>!0;var Ni=x.hasStandardBrowserEnv?{write(r,e,t,o,i,s,a){if(typeof document=="undefined")return;let c=[`${r}=${encodeURIComponent(e)}`];u.isNumber(t)&&c.push(`expires=${new Date(t).toUTCString()}`),u.isString(o)&&c.push(`path=${o}`),u.isString(i)&&c.push(`domain=${i}`),s===!0&&c.push("secure"),u.isString(a)&&c.push(`SameSite=${a}`),document.cookie=c.join("; ")},read(r){if(typeof document=="undefined")return null;let e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function br(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Ur(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function rt(r,e,t){let o=!br(e);return r&&(o||t==!1)?Ur(r,e):e}var gi=r=>r instanceof F?v({},r):r;function j(r,e){e=e||{};let t={};function o(p,m,R,U){return u.isPlainObject(p)&&u.isPlainObject(m)?u.merge.call({caseless:U},p,m):u.isPlainObject(m)?u.merge({},m):u.isArray(m)?m.slice():m}function i(p,m,R,U){if(u.isUndefined(m)){if(!u.isUndefined(p))return o(void 0,p,R,U)}else return o(p,m,R,U)}function s(p,m){if(!u.isUndefined(m))return o(void 0,m)}function a(p,m){if(u.isUndefined(m)){if(!u.isUndefined(p))return o(void 0,p)}else return o(void 0,m)}function c(p,m,R){if(R in e)return o(p,m);if(R in r)return o(void 0,p)}let l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(p,m,R)=>i(gi(p),gi(m),R,!0)};return u.forEach(Object.keys(v(v({},r),e)),function(m){let R=l[m]||i,U=R(r[m],e[m],m);u.isUndefined(U)&&R!==c||(t[m]=U)}),t}var bt=r=>{let e=j({},r),{data:t,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:c}=e;if(e.headers=a=F.from(a),e.url=$e(rt(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),u.isFormData(t)){if(x.hasStandardBrowserEnv||x.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(u.isFunction(t.getHeaders)){let l=t.getHeaders(),p=["content-type","content-length"];Object.entries(l).forEach(([m,R])=>{p.includes(m.toLowerCase())&&a.set(m,R)})}}if(x.hasStandardBrowserEnv&&(o&&u.isFunction(o)&&(o=o(e)),o||o!==!1&&_i(e.url))){let l=i&&s&&Ni.read(s);l&&a.set(i,l)}return e};var fs=typeof XMLHttpRequest!="undefined",vi=fs&&function(r){return new Promise(function(t,o){let i=bt(r),s=i.data,a=F.from(i.headers).normalize(),{responseType:c,onUploadProgress:l,onDownloadProgress:p}=i,m,R,U,D,f;function h(){D&&D(),f&&f(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function C(){if(!T)return;let G=F.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:G,config:r,request:T};tt(function(Q){t(Q),h()},function(Q){o(Q),h()},A),T=null}"onloadend"in T?T.onloadend=C:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(C)},T.onabort=function(){T&&(o(new I("Request aborted",I.ECONNABORTED,r,T)),T=null)},T.onerror=function(H){let A=H&&H.message?H.message:"Network Error",se=new I(A,I.ERR_NETWORK,r,T);se.event=H||null,o(se),T=null},T.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",A=i.transitional||Nt;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),o(new I(H,A.clarifyTimeoutError?I.ETIMEDOUT:I.ECONNABORTED,r,T)),T=null},s===void 0&&a.setContentType(null),"setRequestHeader"in T&&u.forEach(a.toJSON(),function(H,A){T.setRequestHeader(A,H)}),u.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),c&&c!=="json"&&(T.responseType=i.responseType),p&&([U,f]=Ie(p,!0),T.addEventListener("progress",U)),l&&T.upload&&([R,D]=Ie(l),T.upload.addEventListener("progress",R),T.upload.addEventListener("loadend",D)),(i.cancelToken||i.signal)&&(m=G=>{T&&(o(!G||G.type?new z(null,r,T):G),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));let W=Nr(i.url);if(W&&x.protocols.indexOf(W)===-1){o(new I("Unsupported protocol "+W+":",I.ERR_BAD_REQUEST,r));return}T.send(s||null)})};var Rs=(r,e)=>{let{length:t}=r=r?r.filter(Boolean):[];if(e||t){let o=new AbortController,i,s=function(p){if(!i){i=!0,c();let m=p instanceof Error?p:this.reason;o.abort(m instanceof I?m:new z(m instanceof Error?m.message:m))}},a=e&&setTimeout(()=>{a=null,s(new I(`timeout ${e} of ms exceeded`,I.ETIMEDOUT))},e),c=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(s):p.removeEventListener("abort",s)}),r=null)};r.forEach(p=>p.addEventListener("abort",s));let{signal:l}=o;return l.unsubscribe=()=>u.asap(c),l}},bi=Rs;var Es=function*(r,e){let t=r.byteLength;if(!e||t<e){yield r;return}let o=0,i;for(;o<t;)i=o+e,yield r.slice(o,i),o=i},ds=function(r,e){return sr(this,null,function*(){try{for(var t=zr(Ts(r)),o,i,s;o=!(i=yield new ce(t.next())).done;o=!1){let a=i.value;yield*ar(Es(a,e))}}catch(i){s=[i]}finally{try{o&&(i=t.return)&&(yield new ce(i.call(t)))}finally{if(s)throw s[0]}}})},Ts=function(r){return sr(this,null,function*(){if(r[Symbol.asyncIterator]){yield*ar(r);return}let e=r.getReader();try{for(;;){let{done:t,value:o}=yield new ce(e.read());if(t)break;yield o}}finally{yield new ce(e.cancel())}})},Pr=(r,e,t,o)=>{let i=ds(r,e),s=0,a,c=p=>{a||(a=!0,o&&o(p))};return new ReadableStream({pull(p){return E(this,null,function*(){try{let{done:m,value:R}=yield i.next();if(m){c(),p.close();return}let U=R.byteLength;if(t){let D=s+=U;t(D)}p.enqueue(new Uint8Array(R))}catch(m){throw c(m),m}})},cancel(p){return c(p),i.return()}},{highWaterMark:2})};var Ui=64*1024,{isFunction:Ut}=u,As=(({Request:r,Response:e})=>({Request:r,Response:e}))(u.global),{ReadableStream:Pi,TextEncoder:Di}=u.global,wi=(r,...e)=>{try{return!!r(...e)}catch(t){return!1}},Os=r=>{r=u.merge.call({skipUndefined:!0},As,r);let{fetch:e,Request:t,Response:o}=r,i=e?Ut(e):typeof fetch=="function",s=Ut(t),a=Ut(o);if(!i)return!1;let c=i&&Ut(Pi),l=i&&(typeof Di=="function"?(f=>h=>f.encode(h))(new Di):f=>E(null,null,function*(){return new Uint8Array(yield new t(f).arrayBuffer())})),p=s&&c&&wi(()=>{let f=!1,h=new t(x.origin,{body:new Pi,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!h}),m=a&&c&&wi(()=>u.isReadableStream(new o("").body)),R={stream:m&&(f=>f.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!R[f]&&(R[f]=(h,T)=>{let C=h&&h[f];if(C)return C.call(h);throw new I(`Response type '${f}' is not supported`,I.ERR_NOT_SUPPORT,T)})});let U=f=>E(null,null,function*(){if(f==null)return 0;if(u.isBlob(f))return f.size;if(u.isSpecCompliantForm(f))return(yield new t(x.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(u.isArrayBufferView(f)||u.isArrayBuffer(f))return f.byteLength;if(u.isURLSearchParams(f)&&(f=f+""),u.isString(f))return(yield l(f)).byteLength}),D=(f,h)=>E(null,null,function*(){let T=u.toFiniteNumber(f.getContentLength());return T==null?U(h):T});return f=>E(null,null,function*(){let{url:h,method:T,data:C,signal:W,cancelToken:G,timeout:H,onDownloadProgress:A,onUploadProgress:se,responseType:Q,headers:O,withCredentials:at="same-origin",fetchOptions:Hr}=bt(f),b=e||fetch;Q=Q?(Q+"").toLowerCase():"text";let ct=bi([W,G&&G.toAbortSignal()],H),We=null,ae=ct&&ct.unsubscribe&&(()=>{ct.unsubscribe()}),Br;try{if(se&&p&&T!=="get"&&T!=="head"&&(Br=yield D(O,C))!==0){let oe=new t(h,{method:"POST",body:C,duplex:"half"}),Se;if(u.isFormData(C)&&(Se=oe.headers.get("content-type"))&&O.setContentType(Se),oe.body){let[tr,ut]=gr(Br,Ie(vr(se)));C=Pr(oe.body,Ui,tr,ut)}}u.isString(at)||(at=at?"include":"omit");let K=s&&"credentials"in t.prototype,Vr=Re(v({},Hr),{signal:ct,method:T.toUpperCase(),headers:O.normalize().toJSON(),body:C,duplex:"half",credentials:K?at:void 0});We=s&&new t(h,Vr);let re=yield s?b(We,Hr):b(h,Vr),Wr=m&&(Q==="stream"||Q==="response");if(m&&(A||Wr&&ae)){let oe={};["status","statusText","headers"].forEach(Qr=>{oe[Qr]=re[Qr]});let Se=u.toFiniteNumber(re.headers.get("content-length")),[tr,ut]=A&&gr(Se,Ie(vr(A),!0))||[];re=new o(Pr(re.body,Ui,tr,()=>{ut&&ut(),ae&&ae()}),oe)}Q=Q||"text";let Zi=yield R[u.findKey(R,Q)||"text"](re,f);return!Wr&&ae&&ae(),yield new Promise((oe,Se)=>{tt(oe,Se,{data:Zi,headers:F.from(re.headers),status:re.status,statusText:re.statusText,config:f,request:We})})}catch(K){throw ae&&ae(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new I("Network Error",I.ERR_NETWORK,f,We),{cause:K.cause||K}):I.from(K,K&&K.code,f,We)}})},hs=new Map,Dr=r=>{let e=r&&r.env||{},{fetch:t,Request:o,Response:i}=e,s=[o,i,t],a=s.length,c=a,l,p,m=hs;for(;c--;)l=s[c],p=m.get(l),p===void 0&&m.set(l,p=c?new Map:Os(e)),m=p;return p},Sf=Dr();var wr={http:It,xhr:vi,fetch:{get:Dr}};u.forEach(wr,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch(t){}Object.defineProperty(r,"adapterName",{value:e})}});var xi=r=>`- ${r}`,_s=r=>u.isFunction(r)||r===null||r===!1;function Ns(r,e){r=u.isArray(r)?r:[r];let{length:t}=r,o,i,s={};for(let a=0;a<t;a++){o=r[a];let c;if(i=o,!_s(o)&&(i=wr[(c=String(o)).toLowerCase()],i===void 0))throw new I(`Unknown adapter '${c}'`);if(i&&(u.isFunction(i)||(i=i.get(e))))break;s[c||"#"+a]=i}if(!i){let a=Object.entries(s).map(([l,p])=>`adapter ${l} `+(p===!1?"is not supported by the environment":"is not available in the build")),c=t?a.length>1?`since :
`+a.map(xi).join(`
`):" "+xi(a[0]):"as no adapter specified";throw new I("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}var Pt={getAdapter:Ns,adapters:wr};function xr(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new z(null,r)}function Dt(r){return xr(r),r.headers=F.from(r.headers),r.data=Xe.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Pt.getAdapter(r.adapter||Oe.adapter,r)(r).then(function(o){return xr(r),o.data=Xe.call(r,r.transformResponse,o),o.headers=F.from(o.headers),o},function(o){return et(o)||(xr(r),o&&o.response&&(o.response.data=Xe.call(r,r.transformResponse,o.response),o.response.headers=F.from(o.response.headers))),Promise.reject(o)})}var wt="1.13.2";var xt={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{xt[r]=function(o){return typeof o===r||"a"+(e<1?"n ":" ")+r}});var Mi={};xt.transitional=function(e,t,o){function i(s,a){return"[Axios v"+wt+"] Transitional option '"+s+"'"+a+(o?". "+o:"")}return(s,a,c)=>{if(e===!1)throw new I(i(a," has been removed"+(t?" in "+t:"")),I.ERR_DEPRECATED);return t&&!Mi[a]&&(Mi[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,c):!0}};xt.spelling=function(e){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};function gs(r,e,t){if(typeof r!="object")throw new I("options must be an object",I.ERR_BAD_OPTION_VALUE);let o=Object.keys(r),i=o.length;for(;i-- >0;){let s=o[i],a=e[s];if(a){let c=r[s],l=c===void 0||a(c,s,r);if(l!==!0)throw new I("option "+s+" must be "+l,I.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new I("Unknown option "+s,I.ERR_BAD_OPTION)}}var ot={assertOptions:gs,validators:xt};var $=ot.validators,_e=class{constructor(e){this.defaults=e||{},this.interceptors={request:new dr,response:new dr}}request(e,t){return E(this,null,function*(){try{return yield this._request(e,t)}catch(o){if(o instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let s=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?s&&!String(o.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+s):o.stack=s}catch(a){}}throw o}})}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=j(this.defaults,t);let{transitional:o,paramsSerializer:i,headers:s}=t;o!==void 0&&ot.assertOptions(o,{silentJSONParsing:$.transitional($.boolean),forcedJSONParsing:$.transitional($.boolean),clarifyTimeoutError:$.transitional($.boolean)},!1),i!=null&&(u.isFunction(i)?t.paramsSerializer={serialize:i}:ot.assertOptions(i,{encode:$.function,serialize:$.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ot.assertOptions(t,{baseUrl:$.spelling("baseURL"),withXsrfToken:$.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&u.merge(s.common,s[t.method]);s&&u.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),t.headers=F.concat(a,s);let c=[],l=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(l=l&&h.synchronous,c.unshift(h.fulfilled,h.rejected))});let p=[];this.interceptors.response.forEach(function(h){p.push(h.fulfilled,h.rejected)});let m,R=0,U;if(!l){let f=[Dt.bind(this),void 0];for(f.unshift(...c),f.push(...p),U=f.length,m=Promise.resolve(t);R<U;)m=m.then(f[R++],f[R++]);return m}U=c.length;let D=t;for(;R<U;){let f=c[R++],h=c[R++];try{D=f(D)}catch(T){h.call(this,T);break}}try{m=Dt.call(this,D)}catch(f){return Promise.reject(f)}for(R=0,U=p.length;R<U;)m=m.then(p[R++],p[R++]);return m}getUri(e){e=j(this.defaults,e);let t=rt(e.baseURL,e.url,e.allowAbsoluteUrls);return $e(t,e.params,e.paramsSerializer)}};u.forEach(["delete","get","head","options"],function(e){_e.prototype[e]=function(t,o){return this.request(j(o||{},{method:e,url:t,data:(o||{}).data}))}});u.forEach(["post","put","patch"],function(e){function t(o){return function(s,a,c){return this.request(j(c||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}_e.prototype[e]=t(),_e.prototype[e+"Form"]=t(!0)});var it=_e;var Mr=class r{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});let o=this;this.promise.then(i=>{if(!o._listeners)return;let s=o._listeners.length;for(;s-- >0;)o._listeners[s](i);o._listeners=null}),this.promise.then=i=>{let s,a=new Promise(c=>{o.subscribe(c),s=c}).then(i);return a.cancel=function(){o.unsubscribe(s)},a},e(function(s,a,c){o.reason||(o.reason=new z(s,a,c),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=o=>{e.abort(o)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new r(function(i){e=i}),cancel:e}}},yi=Mr;function yr(r){return function(t){return r.apply(null,t)}}function qr(r){return u.isObject(r)&&r.isAxiosError===!0}var Cr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Cr).forEach(([r,e])=>{Cr[e]=r});var qi=Cr;function Ci(r){let e=new it(r),t=Je(it.prototype.request,e);return u.extend(t,it.prototype,e,{allOwnKeys:!0}),u.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Ci(j(r,i))},t}var y=Ci(Oe);y.Axios=it;y.CanceledError=z;y.CancelToken=yi;y.isCancel=et;y.VERSION=wt;y.toFormData=ie;y.AxiosError=I;y.Cancel=y.CanceledError;y.all=function(e){return Promise.all(e)};y.spread=yr;y.isAxiosError=qr;y.mergeConfig=j;y.AxiosHeaders=F;y.formToJSON=r=>gt(u.isHTMLForm(r)?new FormData(r):r);y.getAdapter=Pt.getAdapter;y.HttpStatusCode=qi;y.default=y;var ne=y;var{Axios:pR,AxiosError:SR,CanceledError:fR,isCancel:RR,CancelToken:ER,VERSION:dR,all:TR,Cancel:AR,isAxiosError:OR,spread:hR,toFormData:IR,AxiosHeaders:_R,HttpStatusCode:NR,formToJSON:gR,getAdapter:vR,mergeConfig:bR}=ne;var Mt=class r{static post(e){let t={method:"POST",headers:r.getHeaders(e.extraHeaders)};return ne.post(e.url,e.formData,t)}static getHeaders(e){var t={charset:"UTF-8","Content-Type":"multipart/form-data"};return e?v(v({},t),e):t}};var qt=class qt{static getFunction(e){try{return qt.requestMethodMapping[e]}catch(t){throw new Error("invalid request type: "+e)}}};qt.requestMethodMapping={POST:(e,t,o)=>ne.post(e,t,o),GET:(e,t,o)=>ne.get(e,v({data:t},o)),DELETE:(e,t,o)=>ne.delete(e,v({data:t},o)),NONE:(e,t,o)=>{throw new Error("invalid request, no request type")}};var yt=qt;var Ct=class{request(e){let t=["POST","DELETE"].includes(e.requestType);var o=t?e.url:this.getUrlWithSearchParams(e.url,e.params),i=t?e.params:null,s={method:e.requestType,headers:this.getHeaders(e.extraHeaders,t)};return yt.getFunction(e.requestType)(o,i,s)}getHeaders(e,t=!1){var o={charset:"UTF-8"};return t&&(o["Content-type"]="application/json"),e?v(v({},o),e):o}getUrlWithSearchParams(e,t){return t?e+"?"+new URLSearchParams(t):e}};var nt=class{static handle(e,t){return E(this,null,function*(){try{var o=e.data;if(!o)throw new M("http error. (status="+e.status+")",-1);var i=o;if((i==null?void 0:i.status)==="success")return t?o:i.data;throw M.Factory.createFromNbResponse(i,e.status)}catch(s){throw s}})}};var Ne,ge,le,Ft=class{constructor(e){w(this,Ne);w(this,ge);w(this,le);Y(this,Ne,new Ct),Y(this,ge,"https://"+e)}nbRequest(e,t,o,i=!1){return E(this,null,function*(){let s=this.getNbUrl(e),a=this.getHeaders();var c=yield g(this,Ne).request({url:s,requestType:t,params:o,extraHeaders:a});return yield nt.handle(c,i)})}nbFormDataRequest(e,t,o,i){return E(this,null,function*(){let s=this.getNbUrl(e),a=dt.build({fields:t,files:o,message:i||{}}),c=this.getHeaders(),l=yield Mt.post({url:s,formData:a,extraHeaders:c});return yield nt.handle(l,!1)})}apRequest(e,t,o,i){return E(this,null,function*(){let s=this.getApUrl(e),a=v(v({},i),this.getHeaders()),c=yield g(this,Ne).request({url:s,requestType:t,params:o,extraHeaders:a});return yield ft.handle(c)})}authenticateUser(e){return E(this,null,function*(){var t=yield this.apRequest("AuthenticateUser","GET",null,e);Y(this,le,t.SessionToken)})}updateSessionToken(e){Y(this,le,e)}subscribe(e,t,o,i,s){throw new Error("Method not implemented.")}unsubscribe(e,t,o,i,s){throw new Error("Method not implemented.")}setResponseHandler(e){throw new Error("Method not implemented.")}setResponseHandlers(e){throw new Error("Method not implemented.")}getApUrl(e){return g(this,ge)+"/ap/"+e}getNbUrl(e){return g(this,ge)+"/api/nb/"+e}connect(){return Promise.resolve()}close(){return Promise.resolve()}getHeaders(){return g(this,le)?{aptoken:g(this,le)}:{}}};Ne=new WeakMap,ge=new WeakMap,le=new WeakMap;function d(r,e){return Re(v({},r),{OMSId:e})}var ve=class{constructor(e){this.OMS_ID=1;this.connection=e}getAccountTransactions(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountTransactions","POST",t)}getAccountPositions(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountPositions","POST",t)}getAccountInstrumentStatistics(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountInstrumentStatistics","POST",t)}getAccountInfo(){return E(this,arguments,function*(e={}){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountInfo","POST",t)})}};var be=class{constructor(e){this.connection=e}webAuthenticateUser(e){return E(this,null,function*(){return yield this.connection.apRequest("WebAuthenticateUser","NONE",e)})}logOut(){return E(this,null,function*(){return yield this.connection.apRequest("LogOut","POST")})}};var Ue=class{constructor(e){this.OMS_ID=1;this.connection=e}getDepositFee(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetDepositFee","POST",t)}getWithdrawFee(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetWithdrawFee","POST",t)}getOMSWithdrawFees(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOMSWithdrawFees","POST",t)}getOMSDepositFees(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOMSDepositFees","POST",t)})}getAccountFees(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountFees","POST",t)})}getOrderFee(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrderFee","POST",t)})}};var Pe=class{constructor(e){this.OMS_ID=1;this.connection=e,this.instrumentCache={}}getInstruments(e={}){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetInstruments","POST",t)}getInstrument(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetInstrument","POST",t)}getInstrumentBySymbol(e){return E(this,null,function*(){if(!(e.symbol in this.instrumentCache)){var t=yield this.getInstruments();t.map(o=>this.instrumentCache[o.Symbol]=o)}if(e.symbol in this.instrumentCache)return Promise.resolve(this.instrumentCache[e.symbol]);throw new M("no instrument found for symbol "+e.symbol,-1)})}getInstrumentVerificationLevelConfigs(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetInstrumentVerificationLevelConfig","POST",t)})}};var De=class{constructor(e){this.OMS_ID=1;this.connection=e,this.productCache={}}getProduct(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetProduct","POST",t)}getProducts(){return E(this,arguments,function*(e={}){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetProducts","POST",t)})}getProductBySymbol(e){return E(this,null,function*(){if(!(e.symbol in this.productCache)){var t=yield this.getProducts();t.map(o=>this.productCache[o.Product]=o)}if(e.symbol in this.productCache)return Promise.resolve(this.productCache[e.symbol]);throw new M("no product found for symbol "+e.symbol,-1)})}getVerificationLevelConfig(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return yield this.connection.apRequest("GetVerificationLevelConfig","POST",t)})}};var we=class{constructor(e){this.OMS_ID=1;this.connection=e}generateTradeActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GenerateTradeActivityReport","POST",t)}generateTransactionActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GenerateTransactionActivityReport","POST",t)}generateProductDeltaActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GenerateProductDeltaActivityReport","POST",t)}generatePnLActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GeneratePnLActivityReport","POST",t)}scheduleTradeActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ScheduleTradeActivityReport","POST",t)}scheduleTransactionActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ScheduleTransactionActivityReport","POST",t)}scheduleProductDeltaActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ScheduleProductDeltaActivityReport","POST",t)}scheduleProfitAndLossActivityReport(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ScheduleProfitAndLossActivityReport","POST",t)}cancelUserReport(e){return this.connection.apRequest("CancelUserReport","POST",e)}getUserReportWriterResultRecords(e){return this.connection.apRequest("GetUserReportWriterResultRecords","POST",e)}getUserReportTickets(e){return this.connection.apRequest("GetUserReportTickets","POST",e)}removeUserReportTicket(e){return this.connection.apRequest("RemoveUserReportTicket","POST",e.UserReportTicketId)}getUserReportTicketsByStatus(e){return this.connection.apRequest("GetUserReportTicketsByStatus","POST",e)}downloadDocument(e){return this.connection.apRequest("DownloadDocument","POST",e)}downloadDocumentSlice(e){return this.connection.apRequest("DownloadDocumentSlice","POST",e)}};var xe=class{constructor(e){this.connection=e}ping(){return this.connection.apRequest("Ping","POST")}healthCheck(){return this.connection.apRequest("HealthCheck","POST")}};function Lt(r,e){return r.map(t=>Re(v({},t),{OMSId:e}))}function Gt(r){return{TradeId:r[0],InstrumentId:r[1],Quantity:r[2],Price:r[3],Order1:r[4],Order2:r[5],Tradetime:r[6],Direction:r[7],TakerSide:r[8],BlockTrade:r[9]==1,OrderClientId:r[10]}}var Me=class{constructor(e){this.OMS_ID=1;this.connection=e}sendOrderList(e){let t=Lt(e,this.OMS_ID);return this.connection.apRequest("SendOrderList","POST",t)}sendCancelList(e){let t=Lt(e,this.OMS_ID);return this.connection.apRequest("SendCancelList","POST",t)}sendCancelReplaceList(e){let t=Lt(e,this.OMS_ID);return this.connection.apRequest("SendCancelReplaceList","POST",t)}modifyOrder(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("ModifyOrder","POST",t)}cancelAllOrders(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("CancelAllOrders","POST",t)}getOrderStatus(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrderStatus","POST",t)})}getOrdersHistory(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrdersHistory","POST",t)}getTradesHistory(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetTradesHistory","POST",t)}getOrderHistoryByOrderId(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrderHistoryByOrderId","POST",t)}getTickerHistory(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return(yield this.connection.apRequest("GetTickerHistory","POST",t)).map(i=>({EndDateTime:i[0],High:i[1],Low:i[2],Open:i[3],Close:i[4],Volume:i[5],Bid:i[6],Ask:i[7],InstrumentId:i[8],BeginDateTime:i[9]}))})}getLastTrades(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return(yield this.connection.apRequest("GetLastTrades","POST",t)).map(i=>Gt(i))})}getLevel1Summary(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetLevel1Summary","POST",t)})}getLevel1SummaryMin(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return(yield this.connection.apRequest("GetLevel1SummaryMin","POST",t)).map(i=>({InstrumentId:i[0],InstrumentSymbol:i[1].toString(),LastTradedPx:i[2],Rolling24HrPxChange:i[3],Rolling24HrPxChangePercent:i[4],Rolling24HrVolume:i[5]}))})}getOpenTradeReports(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOpenTradeReports","POST",t)}getOrders(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrders","POST",t)}getOrderHistory(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOrderHistory","POST",t)}sendOrder(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.apRequest("SendOrder","POST",t)})}cancelReplaceOrder(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("CancelReplaceOrder","POST",t)}cancelOrder(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("CancelOrder","POST",t)}getOpenOrders(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetOpenOrders","POST",t)}getAccountTrades(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetAccountTrades","POST",t)}getSummary(){return this.connection.apRequest("Summary","POST")}getTicker(){return this.connection.apRequest("Ticker","POST")}getOrderBook(e){return E(this,null,function*(){let t=yield this.connection.apRequest("OrderBook","POST",e);return cr(t)})}getOrderBookRaw(e){return this.connection.apRequest("OrderBook","POST",e)}getTrades(e){return this.connection.apRequest("Trades","POST",e)}getL2Snapshot(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return(yield this.connection.apRequest("GetL2Snapshot","POST",t)).map(i=>({MDUpdateID:i[0],NumberOfUniqueAccounts:i[1],ActionDateTime:i[2],ActionType:i[3],LastTradePrice:i[4],NumberOfOrders:i[5],Price:i[6],ProductPairCode:i[7],Quantity:i[8],Side:i[9]}))})}getLevel1(e){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetLevel1","POST",t)}getEnums(){return this.connection.apRequest("GetEnums","POST")}};var ye=class{constructor(e){this.OMS_ID=1;this.connection=e}getUserAccounts(e={}){let t=d(e,this.OMS_ID);return this.connection.apRequest("GetUserAccounts","POST",t)}getUserDevices(e){return this.connection.apRequest("GetUserDevices","POST",e)}getUserInfo(e){return this.connection.apRequest("GetUserInfo","POST",e)}getUserPermissions(e){return this.connection.apRequest("GetUserPermissions","POST",e)}};var qe,kt,Ce=class{constructor(e){w(this,qe);this.connection=e}getBanks(e){return _(this,qe,kt).call(this,"banks","GET",e)}AddClientBankAccount(e){return this.connection.nbRequest("bank-accounts","POST",e)}getClientBankAccount(e){return this.connection.nbRequest("bank-accounts/"+e.bankAccountId,"GET")}getClientBankAccounts(e){return _(this,qe,kt).call(this,"bank-accounts","GET",e)}deleteClientBankAccount(e){return this.connection.nbRequest("bank-accounts/"+e.bankAccountId,"DELETE")}getNetworksTemplates(e){return this.connection.nbRequest("wallet/crypto/withdrawal/templates","GET",e)}getDepositAddresses(e){return this.connection.nbRequest("wallet/crypto","GET",e)}createDepositAddress(e){return this.connection.nbRequest("wallet/crypto","POST",e)}getWhitelistedAddresses(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses","GET",e)}addWhitelistedAddress(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses","POST",e)}confirmWhitelistedAddress(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses/"+e.whitelistedAddressId+"/verification","POST",{sms_code:e.sms_code,account_id:e.account_id})}resendVerificationCodeWhitelistedAddress(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses/"+e.whitelistedAddressId+"/verification","GET",{account_id:e.account_id})}deleteWhitelistedAddress(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses/"+e.whitelistedAddressId,"DELETE",{account_id:e.account_id,otp:e.otp})}updateOneStepWithdraw(e){return this.connection.nbRequest("wallet/crypto/whitelist-addresses/one-step/status","POST",e)}createCryptoWithdraw(e){return this.connection.nbRequest("wallet/crypto/withdrawal","POST",e)}createFiatDeposit(e){return E(this,null,function*(){let t=yield this.connection.nbRequest("wallet/fiat/deposit","POST",e);return t==null?void 0:t.url})}getOwnersFiatWithdraw(e){return this.connection.nbRequest("wallet/fiat/withdrawal/owners","GET",e)}createFiatWithdraw(e){return E(this,null,function*(){let t=yield this.connection.nbRequest("wallet/fiat/withdrawal","POST",e);return t==null?void 0:t.withdrawal_id})}confirmFiatWithdraw(e){return this.connection.nbRequest("wallet/fiat/withdrawal/"+e.withdrawal_id,"POST",{attempt_code:e.attempt_code})}transferFunds(e){return this.connection.nbRequest("wallet/transfer-funds","POST",e)}getTransactions(e){return _(this,qe,kt).call(this,"wallet/transactions","GET",e)}};qe=new WeakSet,kt=function(e,t,o){return this.connection.nbRequest(e,t,o,!0)};var Fe=class{constructor(e){this.connection=e}getQuotes(e){return this.connection.nbRequest("quotes","GET",e)}createDirectQuote(e){return E(this,null,function*(){return(yield this.connection.nbRequest("quotes/direct","POST",e)).id})}createInverseQuote(e){return E(this,null,function*(){return(yield this.connection.nbRequest("quotes/inverse","POST",e)).id})}getQuote(e){return this.connection.nbRequest("quotes/"+e.quote_id,"GET",e)}executeQuote(e){return this.connection.nbRequest("quotes/"+e.quote_id,"POST",e)}};var Le=class{constructor(e){this.connection=e}verifyBasic(e){return this.connection.nbRequest("account/verification/basic","POST",e)}verifyTrader(e){let i=v({},e),{document_address_file:t}=i,o=Ee(i,["document_address_file"]);return this.connection.nbFormDataRequest("account/verification/trader",[],[["document_address_file",t]],o)}verifyTraderPlus(e){let s=v({},e),{files:t,fields:o}=s,i=Ee(s,["files","fields"]);return this.connection.nbFormDataRequest("account/verification/trader-plus",o,t,i)}getTraderPlusVerificationSchemas(e){return this.connection.nbRequest("account/verification/trader-plus/schemas","GET",e)}getInstitutionalCompanySchemas(e){return this.connection.nbRequest("account/verification/institutional/company/schemas","GET",e)}verifyInstitutionalCompany(e){let s=v({},e),{files:t,fields:o}=s,i=Ee(s,["files","fields"]);return this.connection.nbFormDataRequest("account/verification/institutional/company",o,t||[],i)}getInstitutionalCompanyVerificationStatus(){return this.connection.nbRequest("account/verification/institutional/company","GET")}getInstitutionalMemberTypes(){return this.connection.nbRequest("account/verification/institutional/members/types","GET")}getInstitutionalMemberSchemas(e){return this.connection.nbRequest("account/verification/institutional/members/schemas","GET",e)}verifyInstitutionalMember(e){let s=v({},e),{files:t,fields:o}=s,i=Ee(s,["files","fields"]);return this.connection.nbFormDataRequest("account/verification/institutional/members",o,t,i)}getInstitutionalMemberVerificationStatus(){return this.connection.nbRequest("account/verification/institutional/members","GET")}getInstitutionalDocumentTypes(){return this.connection.nbRequest("account/verification/institutional/documents/types","GET")}verifyInstitutionalDocument(e){let i=v({},e),{file:t}=i,o=Ee(i,["file"]);return this.connection.nbFormDataRequest("account/verification/institutional/documents",[],[["file",t]],o)}getInstitutionalDocumentVerificationStatus(){return this.connection.nbRequest("account/verification/institutional/documents","GET")}getVerificationStatus(e={}){return this.connection.nbRequest("account/verification/status","GET",e)}};var Ge=class{constructor(e){this.connection=e}registerUser(e){return this.connection.nbRequest("account/register","POST",e)}};var ke=class{constructor(e){this.connection=e}depositToYield(e){return this.connection.nbRequest("savings/deposit","POST",e)}withdrawFromYield(e){return this.connection.nbRequest("savings/withdraw","POST",e)}};var vs="api.notbank.exchange",q,Ht=class{constructor(e){w(this,q);let t=e||vs;Y(this,q,new Ft(t))}authenticateUser(e){var t=mt(),o=pt(e.ApiPublicKey,e.ApiSecretKey,e.UserId,t);return g(this,q).authenticateUser({APIKey:e.ApiPublicKey,Signature:o,UserId:e.UserId,Nonce:t})}updateSessionToken(e){this.getConnection().updateSessionToken(e)}getConnection(){return g(this,q)}newAccountService(){return new ve(g(this,q))}newAuthService(){return new be(g(this,q))}newFeeService(){return new Ue(g(this,q))}newInstrumentService(){return new Pe(g(this,q))}newProductService(){return new De(g(this,q))}newReportService(){return new we(g(this,q))}newSystemService(){return new xe(g(this,q))}newTradingService(){return new Me(g(this,q))}newUserService(){return new ye(g(this,q))}newWalletService(){return new Ce(g(this,q))}newQuoteService(){return new Fe(g(this,q))}newRegisterService(){return new Ge(g(this,q))}newVerificationService(){return new Le(g(this,q))}newSavingsService(){return new ke(g(this,q))}};q=new WeakMap;var Bt=class{constructor(e=1e4,t=5e3){this.pingIntervalMillis=e,this.pingTimeoutMillis=t}startPing(e,t){this.stop(),this.interval=setInterval(()=>E(this,null,function*(){try{yield Promise.race([e.apRequest("Ping","NONE"),new Promise((o,i)=>setTimeout(i,this.pingTimeoutMillis))])}catch(o){yield t.reconnect();return}}),this.pingIntervalMillis),typeof this.interval.unref=="function"&&this.interval.unref()}stop(){this.interval&&clearTimeout(this.interval)}};var Vt=class{constructor(){this.authenticateFn=null}updateAuthentication(e){this.authenticateFn=e}removeAuthentication(){this.authenticateFn=null}makeAuthentication(e){this.authenticateFn!==null&&this.authenticateFn(e)}};var Qt,N,Fr,Lr,Gr,kr,Fi,Z,Li,Wt,Gi,ki,Hi,P=class P{static get(e,t=null,o=null){var i,s;return e+_(i=P,N,Fr).call(i,t)+_(s=P,N,Fr).call(s,o)}static getFromMessageFrame(e){var t,o,i;return(i=(o=(t=g(this,Qt))[e.n])==null?void 0:o.call(t,e.n,e.o))!=null?i:e.n}};Qt=new WeakMap,N=new WeakSet,Fr=function(e){return e!=null?"_"+e:""},Lr=function(e,t){var i;let o=_(i=P,N,Wt).call(i,t,8);return o==null?e:e+"_"+o},Gr=function(e,t){var o;return e+"_"+_(o=P,N,Gi).call(o,t)},kr=function(e,t){var i;let o=_(i=P,N,Wt).call(i,t,7);return o==null?e:e+"_"+o},Fi=function(e,t){var i;let o=_(i=P,N,Wt).call(i,t,1);return o==null?e:e+"_"+o},Z=function(e,t){var i;let o=_(i=P,N,ki).call(i,t);return o!=null||(o=_(this,N,Hi).call(this,t),o!=null)?e+"_"+o:e},Li=function(e,t){let o=JSON.parse(t),i=e+"_"+o.AccountId;return o.Instrument&&(i=i+"_"+o.Instrument),i},Wt=function(e,t){let o=JSON.parse(e);return o.length==0||o[0].length<=t?null:o[0][t]},Gi=function(e){return JSON.parse(e).InstrumentId},ki=function(e){return JSON.parse(e).AccountId},Hi=function(e){return JSON.parse(e).Account},w(P,N),w(P,Qt,{SubscribeLevel1:_(P,N,Gr),Level1UpdateEvent:_(P,N,Gr),SubscribeLevel2:_(P,N,kr),Level2UpdateEvent:_(P,N,kr),SubscribeTicker:_(P,N,Lr),TickerDataUpdateEvent:_(P,N,Lr),SubscribeTrades:_(P,N,Fi),SubscribeOrderStateEvents:_(P,N,Li),TransactionEvent:_(P,N,Z),WithdrawTicketUpdateEvent:_(P,N,Z),AccountPositionEvent:_(P,N,Z),OrderTradeEvent:_(P,N,Z),OrderStateEvent:_(P,N,Z),DepositTicketUpdateEvent:_(P,N,Z),AccountInfoUpdateEvent:_(P,N,Z),CancelOrderRejectEvent:_(P,N,Z),DepositEvent:_(P,N,Z)});var X=P;var Jt,Bi,Yt=class{constructor(){w(this,Jt);this.currentSubscriptions=[]}saveSubscription(e){this.currentSubscriptions.push(e)}removeSubscription(e){for(let o=0;o<e.length;o++)for(let i=0;i<this.currentSubscriptions.length;i++){var t=_(this,Jt,Bi).call(this,this.currentSubscriptions[i],e[o]);if(t){this.currentSubscriptions.splice(i,1);return}}}makeSubscriptions(e){this.currentSubscriptions.forEach(t=>e.subscribe(t.endpoint,t.firstIdentifier,t.secondIdentifier,t.message,t.subscriptionHandlers))}};Jt=new WeakSet,Bi=function(e,t){var o=X.get(e.endpoint,e.firstIdentifier,e.secondIdentifier);return o===t};var Qi=Kr(Wi(),1);var me,pe,He,jt=class{constructor(){w(this,me);w(this,pe);w(this,He);Y(this,me,{}),Y(this,pe,{}),Y(this,He,2)}putCallback(e){var t=g(this,He);return g(this,pe)[t]=e,Y(this,He,g(this,He)+2),t}popCallback(e){let t=g(this,pe)[e];return delete g(this,pe)[e],t!=null?t:o=>null}addSubscriptionCallback(e,t){g(this,me)[e]=t}getSubscriptionCallback(e){return g(this,me)[e]||null}removeSubscriptionCallback(e){e.map(t=>delete g(this,me)[t])}};me=new WeakMap,pe=new WeakMap,He=new WeakMap;var Us=r=>{},Ps="api.notbank.exchange",V,Yi,Ji,Kt,ji,Ki,Be=class{constructor(e){w(this,V);this.domain=(e==null?void 0:e.domain)||Ps,this.callbackManager=new jt,this.hooks=(e==null?void 0:e.websocketHooks)||{},this.peekMessageIn=(e==null?void 0:e.peekMessageIn)||(t=>{}),this.peekMessageOut=(e==null?void 0:e.peekMessageOut)||(t=>{})}nbFormDataRequest(e,t,o,i){throw new Error("websocket client does not support nb form data methods.")}updateSessionToken(e){throw new Error("websocket client does not updating session token.")}nbRequest(e,t,o){throw new Error("websocket client does not support nb methods.")}connect(){return E(this,null,function*(){return this.websocket=new Qi.default("wss://"+this.domain+"/wsgateway"),this.websocket.onopen=e=>{var t,o;return(o=(t=this.hooks).onOpen)==null?void 0:o.call(t,e)},this.websocket.onclose=e=>{var t,o;return(o=(t=this.hooks).onClose)==null?void 0:o.call(t,e)},this.websocket.onerror=e=>{var t,o;return(o=(t=this.hooks).onError)==null?void 0:o.call(t,e)},this.websocket.addEventListener("message",e=>{let t=JSON.parse(e.data);_(this,V,Ji).call(this,t)}),this.websocket.addEventListener("message",e=>{var t,o;return(o=(t=this.hooks).onMessage)==null?void 0:o.call(t,e)}),new Promise((e,t)=>this.websocket.addEventListener("open",o=>e()))})}close(){return this.websocket.close()}get readyState(){return this.websocket.readyState}apRequest(e,t,o){return _(this,V,Kt).call(this,e,o,0)}subscribe(e,t,o,i,s){return E(this,null,function*(){return s.map(a=>this.callbackManager.addSubscriptionCallback(X.get(a.eventName,t,o),a.eventHandler)),_(this,V,Kt).call(this,e,i,0)})}unsubscribe(e,t,o,i,s){return E(this,null,function*(){return this.callbackManager.removeSubscriptionCallback(s.map(a=>X.get(a,t,o))),yield _(this,V,Kt).call(this,e,i,0)})}closeConnection(){this.websocket.socket.close()}authenticateUser(e){return E(this,null,function*(){yield this.apRequest("AuthenticateUser","NONE",e)})}};V=new WeakSet,Yi=function(e){return X.getFromMessageFrame(e)},Ji=function(e){this.peekMessageIn(e);let t=this.callbackManager.popCallback(e.i);if(t!=null&&(t(e),ws(e)))return;let o=_(this,V,Yi).call(this,e),i=this.callbackManager.getSubscriptionCallback(o);if(i!=null){i(e);return}var s=o.lastIndexOf("_");if(s==-1)return;let a=o.substring(0,s),c=this.callbackManager.getSubscriptionCallback(o);if(c!=null){c(e);return}},Kt=function(e,t,o=0){return new Promise((i,s)=>{_(this,V,Ki).call(this,e,JSON.stringify(t)||"{}",o,_(this,V,ji).call(this,s,i))})},ji=function(e,t){return o=>{try{var i=JSON.parse(o.o)}catch(a){e(Ds(o.o));return}if(o.m===5){e(M.Factory.createFromApResponse(i));return}var s=i;if((s==null?void 0:s.result)===!1&&(s==null?void 0:s.errormsg)!=null){e(M.Factory.createFromApResponse(i));return}t(i)}},Ki=function(e,t,o,i=Us){let s=this.callbackManager.putCallback(i),a={m:o,i:s,n:e,o:t};this.peekMessageOut(a),this.websocket.send(JSON.stringify(a))};function Ds(r){return M.Factory.createFromApResponse({result:!1,errormsg:r,errorcode:St.UNDEFINED,statusCode:-1,detail:""})}function ws(r){if(r.m===5)return!0;try{return r.o.result==!1}catch(t){return!1}}var Ve,zi,$i,zt=class{constructor(e){w(this,Ve);this.closeRequested=!1,this.reconnecting=!1,this.connectionConfiguration=e.connectionConfiguration,this.pinger=new Bt,this.resubscriber=new Yt,this.reauther=new Vt,this.connection=null}getResubscriber(){return this.resubscriber}getReauther(){return this.reauther}getConnection(){if(this.reconnecting)throw new M("unable to make notbank request. websocket reconnecting",-1);return this.connection}reconnect(){return E(this,null,function*(){this.reconnecting||this.closeRequested||(this.reconnecting=!0,this.closeCurrentConnection(),this.connection=_(this,Ve,$i).call(this),yield _(this,Ve,zi).call(this),this.reauther.makeAuthentication(this.connection),this.resubscriber.makeSubscriptions(this.connection),this.pinger.startPing(this.connection,this),this.reconnecting=!1)})}closeCurrentConnection(){var t;this.pinger.stop();var e=(t=this.connection)==null?void 0:t.close();return e}close(){this.closeRequested=!0;var e=this.closeCurrentConnection();return e}};Ve=new WeakSet,zi=function(){return E(this,null,function*(){for(;!this.closeRequested;)try{yield Promise.race([this.connection.connect(),new Promise((e,t)=>setTimeout(t,1e4))]);return}catch(e){}})},$i=function(){var e,t;return new Be({domain:this.connectionConfiguration.domain,peekMessageIn:this.connectionConfiguration.peekMessageIn,peekMessageOut:this.connectionConfiguration.peekMessageOut,websocketHooks:{onMessage:(e=this.connectionConfiguration.websocketHooks)==null?void 0:e.onMessage,onOpen:(t=this.connectionConfiguration.websocketHooks)==null?void 0:t.onOpen,onError:o=>{var i,s;this.reconnecting||(s=(i=this.connectionConfiguration.websocketHooks)==null?void 0:i.onError)==null||s.call(i,o)},onClose:o=>{var i,s;this.reconnecting||!this.closeRequested||(s=(i=this.connectionConfiguration.websocketHooks)==null?void 0:i.onClose)==null||s.call(i,o)}}})};var $t=class{constructor(e){this.restarter=e.restarter}nbFormDataRequest(e,t,o,i){throw new Error("websocket client does not support nb form data methods.")}updateSessionToken(e){throw new Error("websocket client does not support updating session token.")}apRequest(e,t,o){return e==="LogOut"&&this.restarter.getReauther().removeAuthentication(),this.restarter.getConnection().apRequest(e,t,o)}nbRequest(e,t,o,i){throw new Error("websocket client does not support nb methods.")}authenticateUser(e){return E(this,null,function*(){yield this.restarter.getConnection().authenticateUser(e),this.restarter.getReauther().updateAuthentication(t=>t.authenticateUser(e))})}subscribe(e,t,o,i,s){return E(this,null,function*(){yield this.restarter.getConnection().subscribe(e,t,o,i,s),this.restarter.getResubscriber().saveSubscription({endpoint:e,firstIdentifier:t,secondIdentifier:o,message:i,subscriptionHandlers:s})})}unsubscribe(e,t,o,i,s){return E(this,null,function*(){yield this.restarter.getConnection().unsubscribe(e,t,o,i,s),this.restarter.getResubscriber().removeSubscription(s)})}get readyState(){return this.restarter.getConnection().readyState}connect(){return this.restarter.reconnect()}close(){return this.restarter.close()}};function ee(r,e){return e==null?null:te(r,e)}function te(r,e){return{eventName:r,eventHandler:t=>e(xs(t.o))}}function xs(r){return JSON.parse(r)}var Zt=class{constructor(e){this.OMS_ID=1;this.connection=e}subscribeLevel1(e,t,o){let i=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeLevel1",e.InstrumentId||null,null,i,[te("SubscribeLevel1",t),te("Level1UpdateEvent",o)])}unsubscribeLevel1(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);yield this.connection.unsubscribe("UnsubscribeLevel1",e.InstrumentId||null,null,t,["SubscribeLevel1","UnsubscribeLevel1"])})}subscribeLevel2(e,t,o){let i=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeLevel2",e.InstrumentId,null,i,[te("SubscribeLevel2",t),te("Level2UpdateEvent",o)])}unsubscribeLevel2(e){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeLevel2",e.InstrumentId||null,null,t,[X.get("SubscribeLevel2",e.InstrumentId)])}subscribeTrades(e,t){let o=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeTrades",e.InstrumentId,null,o,[te("SubscribeTrades",i=>t(Gt(i)))])}unsubscribeTrades(e){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeTrades",e.InstrumentId,null,t,["SubscribeTrades"])}subscribeTicker(e,t,o){let i=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeTicker",e.InstrumentId||null,null,i,[te("SubscribeTicker",t),te("TickerDataUpdateEvent_"+e.InstrumentId,o)])}unsubscribeTicker(e){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeTicker",e.InstrumentId||null,null,t,["SubscribeTicker"])}subscribeAccountEvents(e,t){let o=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeAccountEvents",e.AccountId,null,o,[ee("WithdrawTicketUpdateEvent",t.withdrawTicketUpdateEventHandler||null),ee("OrderTradeEvent",t.orderTradeEventHandler||null),ee("OrderStateEvent",t.orderStateEventHandler||null),ee("DepositTicketUpdateEvent",t.depositTicketUpdateEventHandler||null),ee("AccountPositionEvent",t.accountPositionEventHandler||null),ee("AccountInfoUpdateEvent",t.accountInfoUpdateEventHandler||null),ee("CancelOrderRejectEvent",t.cancelOrderRejectEventHandler||null),ee("DepositEvent",t.depositEventHandler||null),ee("TransactionEvent",t.transactionEventHandler||null)].filter(i=>i!=null))}unsubscribeAccountEvents(e){return E(this,null,function*(){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeAccountEvents",e.AccountId,null,t,["WithdrawTicketUpdateEvent","OrderTradeEvent","OrderStateEvent","DepositTicketUpdateEvent","AccountPositionEvent","AccountInfoUpdateEvent","CancelOrderRejectEvent","DepositEvent","TransactionEvent"])})}subscribeOrderStateEvents(e,t){let o=d(e,this.OMS_ID);return this.connection.subscribe("SubscribeOrderStateEvents",e.AccountId,e.InstrumentId||null,o,[te("OrderStateEvent",t)])}unsubscribeOrderStateEvents(e){let t=d(e,this.OMS_ID);return this.connection.unsubscribe("UnsubscribeOrderStateEvents",e.AccountId,e.InstrumentId||null,t,["SubscribeOrderStateEvents"])}};var Xt=class{constructor(e){var t=e!=null&&e.withReconnect?new $t({restarter:new zt({connectionConfiguration:e||{}})}):new Be(e);this.serviceConnection=t,this.getReadyState=()=>t.readyState}connect(){return this.serviceConnection.connect()}close(){return this.serviceConnection.close()}get isConnecting(){return this.getReadyState()===WebSocket.CONNECTING}get isConnected(){return this.getReadyState()===WebSocket.OPEN}get isClosing(){return this.getReadyState()===WebSocket.CLOSING}get isClosed(){return this.getReadyState()===WebSocket.CLOSED}authenticateUser(e){return E(this,null,function*(){var t=mt(),o=pt(e.ApiPublicKey,e.ApiSecretKey,e.UserId,t);yield this.serviceConnection.authenticateUser({APIKey:e.ApiPublicKey,Signature:o,UserId:e.UserId,Nonce:t})})}updateSessionToken(e){return this.serviceConnection.updateSessionToken(e)}getConnection(){return this.serviceConnection}newAccountService(){return new ve(this.serviceConnection)}newAuthService(){return new be(this.serviceConnection)}newFeeService(){return new Ue(this.serviceConnection)}newInstrumentService(){return new Pe(this.serviceConnection)}newProductService(){return new De(this.serviceConnection)}newReportService(){return new we(this.serviceConnection)}newSystemService(){return new xe(this.serviceConnection)}getSubscriptionService(){return new Zt(this.serviceConnection)}newTradingService(){return new Me(this.serviceConnection)}newUserService(){return new ye(this.serviceConnection)}newWalletService(){return new Ce(this.serviceConnection)}newQuoteService(){return new Fe(this.serviceConnection)}newRegisterService(){return new Ge(this.serviceConnection)}newVerificationService(){return new Le(this.serviceConnection)}newSavingsService(){return new ke(this.serviceConnection)}};var st=class st{constructor(e){this.connection=e.connection,this.accountService=e.accountService,this.authService=e.authService,this.feeService=e.feeService,this.instrumentService=e.instrumentService,this.productService=e.productService,this.reportService=e.reportService,this.getSubscriptionService=()=>e.getSubscriptionService(),this.systemService=e.systemService,this.tradingService=e.tradingService,this.userService=e.userService,this.walletService=e.walletService,this.quoteService=e.quoteService,this.registerService=e.registerService,this.verificationService=e.verificationService,this.savingsService=e.savingsService,this.authenticateUser=e.authenticate,this.updateSessionToken=e.updateSessionToken,this.connect=e.connect,this.close=e.close}getAccountService(){return this.accountService}getAuthService(){return this.authService}getFeeService(){return this.feeService}getInstrumentService(){return this.instrumentService}getProductService(){return this.productService}getReportService(){return this.reportService}getSystemService(){return this.systemService}getTradingService(){return this.tradingService}getUserService(){return this.userService}getWalletService(){return this.walletService}getQuoteService(){return this.quoteService}getRegisterService(){return this.registerService}getVerificationService(){return this.verificationService}getSavingsService(){return this.savingsService}getConnection(){return this.connection}};st.Factory=class{static createRestClient(t){var o=new Ht(t);return new st({connection:o.getConnection(),accountService:o.newAccountService(),authService:o.newAuthService(),feeService:o.newFeeService(),instrumentService:o.newInstrumentService(),productService:o.newProductService(),reportService:o.newReportService(),getSubscriptionService:()=>{throw new M("NotbankError. subcription service only exists for websocket connection",-1)},systemService:o.newSystemService(),tradingService:o.newTradingService(),userService:o.newUserService(),walletService:o.newWalletService(),quoteService:o.newQuoteService(),registerService:o.newRegisterService(),verificationService:o.newVerificationService(),savingsService:o.newSavingsService(),authenticate:i=>o.authenticateUser(i),updateSessionToken:i=>o.updateSessionToken(i),connect:()=>Promise.resolve(null),close:()=>Promise.resolve(null)})}static createWebsocketClient(t){var o=new Xt(t);return new st({connection:o.getConnection(),accountService:o.newAccountService(),authService:o.newAuthService(),feeService:o.newFeeService(),instrumentService:o.newInstrumentService(),productService:o.newProductService(),reportService:o.newReportService(),getSubscriptionService:()=>o.getSubscriptionService(),systemService:o.newSystemService(),tradingService:o.newTradingService(),userService:o.newUserService(),walletService:o.newWalletService(),quoteService:o.newQuoteService(),registerService:o.newRegisterService(),verificationService:o.newVerificationService(),authenticate:i=>o.authenticateUser(i),updateSessionToken:i=>o.updateSessionToken(i),savingsService:o.newSavingsService(),connect:()=>o.connect(),close:()=>o.close()})}};var er=st;return cn(Ms);})();
//# sourceMappingURL=bundle.min.js.map
